//   _  /._  _  r3 2017-07-04 7:42pm
//  /_|///_'/ /
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Alien=e.Alien||{})}(this,function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};window.Events||(window.Events={BROWSER_FOCUS:"browser_focus",KEYBOARD_DOWN:"keyboard_down",KEYBOARD_UP:"keyboard_up",KEYBOARD_PRESS:"keyboard_press",RESIZE:"resize",COMPLETE:"complete",PROGRESS:"progress",UPDATE:"update",LOADED:"loaded",ERROR:"error",READY:"ready",HOVER:"hover",CLICK:"click"});var o=function e(){n(this,e);var t=[];this.add=function(e,n){t.push({event:e,callback:n})},this.remove=function(e,n){for(var i=t.length-1;i>-1;i--)t[i].event===e&&t[i].callback===n&&t.splice(i,1)},this.fire=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0;i<t.length;i++)t[i].event===e&&t[i].callback(n)}};window.events||(window.events=new o),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return Delayed(e,1e3/60)});var a=new function e(){function t(e){"focus"===e.type&&(r=Date.now())}function i(){var e=Date.now(),n=e-o,c=0,l=60;r&&(l=1e3/(c=e-r)),r=e;for(var h=s.length-1;h>-1;h--){var f=s[h];if(f){if(f.fps){if((a+=c>200?0:c)<1e3/f.fps)continue;a-=1e3/f.fps}f(e,n,c,l,f.frameCount++)}}s.length?window.requestAnimationFrame(i):(u=!1,window.events.remove(Events.BROWSER_FOCUS,t))}n(this,e);var r=void 0,s=[],o=Date.now(),a=0,u=!1;this.start=function(e){e.frameCount=0,-1===s.indexOf(e)&&s.push(e),s.length&&!u&&(u=!0,window.requestAnimationFrame(i),window.events.add(Events.BROWSER_FOCUS,t))},this.stop=function(e){var t=s.indexOf(e);t>-1&&s.splice(t,1)}},u=function e(t){var i=this;n(this,e);for(var r in t)this[r]=t[r];this.lerp=function(e,n){for(var r in t)i[r]+=(e[r]-i[r])*n;return i}},c=new(function(){function e(){n(this,e)}return i(e,[{key:"rand",value:function(e,t){return new u({v:e}).lerp({v:t},Math.random()).v}},{key:"doRandom",value:function(e,t,n){if("number"==typeof n){var i=Math.pow(10,n);return Math.round(this.rand(e,t)*i)/i}return Math.round(this.rand(e-.5,t+.5))}},{key:"headsTails",value:function(e,t){return this.doRandom(0,1)?t:e}},{key:"toDegrees",value:function(e){return e*(180/Math.PI)}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"findDistance",value:function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}},{key:"timestamp",value:function(){return(Date.now()+this.doRandom(0,99999)).toString()}},{key:"pad",value:function(e){return e<10?"0"+e:e}},{key:"hitTestObject",value:function(e,t){var n=e.x,i=e.y,r=e.width,s=e.height,o=t.x,a=t.y,u=n+r,c=i+s,l=o+t.width,h=a+t.height;if(o>=n&&o<=u){if(a>=i&&a<=c)return!0;if(i>=a&&i<=h)return!0}else if(n>=o&&n<=l){if(a>=i&&a<=c)return!0;if(i>=a&&i<=h)return!0}return!1}},{key:"clamp",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"constrain",value:function(e,t,n){return Math.min(Math.max(e,Math.min(t,n)),Math.max(t,n))}},{key:"convertRange",value:function(e,t,n,i,r,s){var o=(e-t)*(r-i)/(n-t)+i;return s?this.constrain(o,i,r):o}},{key:"nullObject",value:function(e){for(var t in e)void 0!==e[t]&&(e[t]=null);return null}},{key:"cloneObject",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"mergeObject",value:function(){for(var e={},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=!0,s=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;for(var l in c)e[l]=c[l]}}catch(e){s=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw o}}return e}},{key:"cloneArray",value:function(e){return e.slice(0)}},{key:"toArray",value:function(e){return Object.keys(e).map(function(t){return e[t]})}},{key:"queryString",value:function(e){return decodeURI(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURI(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}},{key:"basename",value:function(e){return e.replace(/.*\//,"").replace(/(.*)\..*$/,"$1")}}]),e}()),l=new(function(){function e(){var t=this;n(this,e),this.agent=navigator.userAgent.toLowerCase(),this.prefix=function(){var e="",n="",i=window.getComputedStyle(document.documentElement,"");e=(Array.prototype.slice.call(i).join("").match(/-(moz|webkit|ms)-/)||""===i.OLink&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1];var r=t.detect("trident");return{unprefixed:r&&!t.detect("msie 9"),dom:n,lowercase:e,css:"-"+e+"-",js:(r?e[0]:e[0].toUpperCase())+e.substr(1)}}(),this.transformProperty=function(){var e=void 0;switch(t.prefix.lowercase){case"webkit":e="-webkit-transform";break;case"moz":e="-moz-transform";break;case"o":e="-o-transform";break;case"ms":e="-ms-transform";break;default:e="transform"}return e}(),this.mobile=!(!("ontouchstart"in window||"onpointerdown"in window)||!this.detect(["ios","iphone","ipad","android","blackberry"]))&&{}}return i(e,[{key:"detect",value:function(e){"string"==typeof e&&(e=[e]);for(var t=0;t<e.length;t++)if(this.agent.indexOf(e[t])>-1)return!0;return!1}},{key:"vendor",value:function(e){return this.prefix.js+e}}]),e}()),h=new function e(){var t=this;n(this,e),this.convertEase=function(e){return function(){var n=void 0;switch(e){case"easeInQuad":n=t.Quad.In;break;case"easeInCubic":n=t.Cubic.In;break;case"easeInQuart":n=t.Quart.In;break;case"easeInQuint":n=t.Quint.In;break;case"easeInSine":n=t.Sine.In;break;case"easeInExpo":n=t.Expo.In;break;case"easeInCirc":n=t.Circ.In;break;case"easeInElastic":n=t.Elastic.In;break;case"easeInBack":n=t.Back.In;break;case"easeInBounce":n=t.Bounce.In;break;case"easeOutQuad":n=t.Quad.Out;break;case"easeOutCubic":n=t.Cubic.Out;break;case"easeOutQuart":n=t.Quart.Out;break;case"easeOutQuint":n=t.Quint.Out;break;case"easeOutSine":n=t.Sine.Out;break;case"easeOutExpo":n=t.Expo.Out;break;case"easeOutCirc":n=t.Circ.Out;break;case"easeOutElastic":n=t.Elastic.Out;break;case"easeOutBack":n=t.Back.Out;break;case"easeOutBounce":n=t.Bounce.Out;break;case"easeInOutQuad":n=t.Quad.InOut;break;case"easeInOutCubic":n=t.Cubic.InOut;break;case"easeInOutQuart":n=t.Quart.InOut;break;case"easeInOutQuint":n=t.Quint.InOut;break;case"easeInOutSine":n=t.Sine.InOut;break;case"easeInOutExpo":n=t.Expo.InOut;break;case"easeInOutCirc":n=t.Circ.InOut;break;case"easeInOutElastic":n=t.Elastic.InOut;break;case"easeInOutBack":n=t.Back.InOut;break;case"easeInOutBounce":n=t.Bounce.InOut;break;case"linear":n=t.Linear.None}return n}()||t.Cubic.Out},this.Linear={None:function(e){return e}},this.Quad={In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},this.Cubic={In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},this.Quart={In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},this.Quint={In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},this.Sine={In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},this.Expo={In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},this.Circ={In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},this.Elastic={In:function(e){var t=void 0,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},Out:function(e){var t=void 0,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t=void 0,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},this.Back={In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},this.Bounce={In:function(e){return 1-t.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*t.Bounce.In(2*e):.5*t.Bounce.Out(2*e-1)+.5}}},f=function e(t,i,r,s,o,a){function u(e){if(t.mathTween=null,!e)for(var n in d)"number"==typeof d[n]&&(t[n]=d[n]);v.removeMathTween(c)}n(this,e);var c=this,l=void 0,f=void 0,d=void 0,p=void 0,y=void 0;!function(){v.clearTween(t),v.addMathTween(c),t.mathTween=c,s=h.convertEase(s),l=Date.now(),l+=o,d=i,f={};for(var e in d)"number"==typeof t[e]&&(f[e]=t[e])}(),this.update=function(e){if(!(p||e<l)){var n=s(y=(y=(e-l)/r)>1?1:y);for(var i in f)if("number"==typeof f[i]){var o=f[i],c=d[i];t[i]=o+(c-o)*n}1===y&&(u(),a&&a())}},this.pause=function(){p=!0},this.resume=function(){p=!1,l=Date.now()-y*r},this.stop=function(){return u(!0)}},d=function e(t,i,r,s,o,a){function u(e){if(t.mathTween=null,!e)for(var n in f)"number"==typeof f[n]&&(t[n]=f[n]);v.removeMathTween(c)}n(this,e);var c=this,l=void 0,h=void 0,f=void 0,d=void 0,p=void 0,y=void 0,m=void 0;!function(){v.clearTween(t),v.addMathTween(c),t.mathTween=c,l=Date.now(),l+=o,f={},d={},h={},(i.x||i.y||i.z)&&(void 0===i.x&&(i.x=t.x),void 0===i.y&&(i.y=t.y),void 0===i.z&&(i.z=t.z)),y=0,p=i.damping||.1,delete i.damping;for(var e in i)"number"==typeof i[e]&&(h[e]=0,f[e]=i[e]);for(var n in i)"number"==typeof t[n]&&(d[n]=t[n]||0,i[n]=d[n])}(),this.update=function(e){if(!(m||e<l)){var n=void 0;for(var s in d)if("number"==typeof d[s]){var o=(f[s]-i[s])*p;h[s]+=o,h[s]*=r,i[s]+=h[s],t[s]=i[s],n=h[s]}Math.abs(n)<.001&&++y>30&&(u(),a&&a())}},this.pause=function(){m=!0},this.stop=function(){return u(!0)}},v=new(function(){function e(){function t(e){if(i.length)for(var n=0;n<i.length;n++)i[n].update(e);else r=!1,a.stop(t)}n(this,e),this.TRANSFORMS=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ","skewX","skewY","perspective"],this.CSS_EASES={easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",linear:"linear"};var i=[],r=!1;this.addMathTween=function(e){i.push(e),r||(r=!0,a.start(t))},this.removeMathTween=function(e){var t=i.indexOf(e);t>-1&&i.splice(t,1)}}return i(e,[{key:"tween",value:function(e,t,n,i,r,s){"number"!=typeof r&&(s=r,r=0);var o=null;"undefined"!=typeof Promise&&(o=Promise.create(),s&&o.then(s),s=o.resolve);var a="spring"===i?new d(e,t,n,i,r,s):new f(e,t,n,i,r,s);return o||a}},{key:"clearTween",value:function(e){e.mathTween&&e.mathTween.stop()}},{key:"clearCSSTween",value:function(e){e.cssTween&&e.cssTween.stop()}},{key:"checkTransform",value:function(e){return this.TRANSFORMS.indexOf(e)>-1}},{key:"getEase",value:function(e){var t=this.CSS_EASES;return t[e]||t.easeOutCubic}},{key:"getAllTransforms",value:function(e){for(var t={},n=this.TRANSFORMS.length-1;n>-1;n--){var i=this.TRANSFORMS[n],r=e[i];0!==r&&"number"==typeof r&&(t[i]=r)}return t}},{key:"parseTransform",value:function(e){var t="";if(void 0!==e.x||void 0!==e.y||void 0!==e.z){var n="";n+=(e.x||0)+"px, ",n+=(e.y||0)+"px, ",t+="translate3d("+(n+=(e.z||0)+"px")+")"}return void 0!==e.scale?t+="scale("+e.scale+")":(void 0!==e.scaleX&&(t+="scaleX("+e.scaleX+")"),void 0!==e.scaleY&&(t+="scaleY("+e.scaleY+")")),void 0!==e.rotation&&(t+="rotate("+e.rotation+"deg)"),void 0!==e.rotationX&&(t+="rotateX("+e.rotationX+"deg)"),void 0!==e.rotationY&&(t+="rotateY("+e.rotationY+"deg)"),void 0!==e.rotationZ&&(t+="rotateZ("+e.rotationZ+"deg)"),void 0!==e.skewX&&(t+="skewX("+e.skewX+"deg)"),void 0!==e.skewY&&(t+="skewY("+e.skewY+"deg)"),void 0!==e.perspective&&(t+="perspective("+e.perspective+"px)"),t}}]),e}()),p=function e(t,i,r,s,o,a){function u(){return!t||!t.element}function c(){u()||(t.element.style[l.vendor("Transition")]="",t.cssTween=null)}n(this,e);var h=this,f=v.getAllTransforms(t),d=[];!function(){for(var e in i)v.checkTransform(e)?(f.use=!0,f[e]=i[e],delete i[e]):("number"==typeof i[e]||e.indexOf("-")>-1)&&d.push(e);f.use&&d.push(l.transformProperty),delete f.use}(),function(){if(!u()){v.clearCSSTween(t),t.cssTween=h;for(var e="",n=0;n<d.length;n++)e+=(e.length?", ":"")+d[n]+" "+r+"ms "+v.getEase(s)+" "+o+"ms";Delayed(function(){u()||(t.element.style[l.vendor("Transition")]=e,t.css(i),t.transform(f),Delayed(function(){u()||(c(),a&&a())},r+o))},50)}}(),this.stop=function(){return c()}},y=new function e(){n(this,e);var t=[];this.defineSymbol=function(e,n,i,r){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("style","display: none;"),s.setAttribute("width",n),s.setAttribute("height",i),s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),s.innerHTML='<symbol id="'+e+'">'+r+"</symbol>",document.body.insertBefore(s,document.body.firstChild),t.push({id:e,width:n,height:i})},this.getSymbolConfig=function(e){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null}},m=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",r=arguments[2];n(this,e),this.events=new o,this.name=t,this.type=i,"svg"===this.type?(this.element=document.createElementNS("http://www.w3.org/2000/svg",this.type),this.element.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")):(this.element=document.createElement(this.type),"."===t[0]?this.element.className=t.substr(1):this.element.id=t),this.element.style.position="absolute",r||(window.Alien&&window.Alien.Stage?window.Alien.Stage:document.body).appendChild(this.element)}return i(e,[{key:"initClass",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=new(Function.prototype.bind.apply(e,[null].concat(n)));return r.element&&this.element.appendChild(r.element),r.parent=this,r}},{key:"create",value:function(t,n){var i=new e(t,n);return this.element.appendChild(i.element),i.parent=this,i}},{key:"destroy",value:function(){return this.loop&&a.stop(this.loop),this.element.parentNode.removeChild(this.element),c.nullObject(this)}},{key:"empty",value:function(){return this.element.innerHTML="",this}},{key:"text",value:function(e){return void 0===e?this.element.textContent:(this.element.textContent=e,this)}},{key:"html",value:function(e){return void 0===e?this.element.innerHTML:(this.element.innerHTML=e,this)}},{key:"hide",value:function(){return this.element.style.display="none",this}},{key:"show",value:function(){return this.element.style.display="",this}},{key:"visible",value:function(){return this.element.style.visibility="visible",this}},{key:"invisible",value:function(){return this.element.style.visibility="hidden",this}},{key:"setZ",value:function(e){return this.element.style.zIndex=e,this}},{key:"clearAlpha",value:function(){return this.element.style.opacity="",this}},{key:"size",value:function(e,t){return void 0!==e&&(void 0===t&&(t=e),"string"==typeof e?("string"!=typeof t&&(t+="px"),this.element.style.width=e,this.element.style.height=t):(this.element.style.width=e+"px",this.element.style.height=t+"px",this.element.style.backgroundSize=e+"px "+t+"px")),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this}},{key:"mouseEnabled",value:function(e){return this.element.style.pointerEvents=e?"auto":"none",this}},{key:"fontStyle",value:function(e,t,n,i){return this.css({fontFamily:e,fontSize:t,color:n,fontStyle:i}),this}},{key:"bg",value:function(e,t,n,i){return e.indexOf(".")>-1||e.indexOf("data:")>-1?this.element.style.backgroundImage="url("+e+")":this.element.style.backgroundColor=e,void 0!==t&&(t="number"==typeof t?t+"px":t,n="number"==typeof n?n+"px":n,this.element.style.backgroundPosition=t+" "+n),i&&(this.element.style.backgroundSize="",this.element.style.backgroundRepeat=i),"cover"!==t&&"contain"!==t||(this.element.style.backgroundSize=t,this.element.style.backgroundRepeat="no-repeat",this.element.style.backgroundPosition=void 0!==n?n+" "+i:"center"),this}},{key:"center",value:function(e,t,n){var i={};return void 0===e?(i.left="50%",i.top="50%",i.marginLeft=-this.width/2,i.marginTop=-this.height/2):(e&&(i.left="50%",i.marginLeft=-this.width/2),t&&(i.top="50%",i.marginTop=-this.height/2)),n&&(delete i.left,delete i.top),this.css(i),this}},{key:"mask",value:function(e){return this.element.style[l.vendor("Mask")]=(e.indexOf(".")>-1?"url("+e+")":e)+" no-repeat",this.element.style[l.vendor("MaskSize")]="contain",this}},{key:"blendMode",value:function(e,t){return this.element.style[t?"background-blend-mode":"mix-blend-mode"]=e,this}},{key:"css",value:function(e,n){if("object"!==(void 0===e?"undefined":t(e))){if(n)return this.element.style[e]=n,this;var i=this.element.style[e];return"number"!=typeof i&&(i.indexOf("px")>-1&&(i=Number(i.slice(0,-2))),"opacity"===e&&(i=isNaN(Number(this.element.style.opacity))?1:Number(this.element.style.opacity))),i||(i=0),i}for(var r in e){var s=e[r];"string"!=typeof s&&"number"!=typeof s||("string"!=typeof s&&"opacity"!==r&&"zIndex"!==r&&(s+="px"),this.element.style[r]=s)}return this}},{key:"transform",value:function(e){if(e)for(var t in e)"number"==typeof e[t]&&(this[t]=e[t]);else e=this;return this.element.style[l.vendor("Transform")]=v.parseTransform(e),this}},{key:"enable3D",value:function(e,t,n){return this.element.style[l.vendor("TransformStyle")]="preserve-3d",e&&(this.element.style[l.vendor("Perspective")]=e+"px"),void 0!==t&&(t="number"==typeof t?t+"px":t,n="number"==typeof n?n+"px":n,this.element.style[l.vendor("PerspectiveOrigin")]=t+" "+n),this}},{key:"disable3D",value:function(){return this.element.style[l.vendor("TransformStyle")]="",this.element.style[l.vendor("Perspective")]="",this}},{key:"transformPoint",value:function(e,t,n){var i="";return void 0!==e&&(i+="number"==typeof e?e+"px ":e+" "),void 0!==t&&(i+="number"==typeof t?t+"px ":t+" "),void 0!==n&&(i+="number"==typeof n?n+"px":n),this.element.style[l.vendor("TransformOrigin")]=i,this}},{key:"tween",value:function(e,t,n,i,r){"number"!=typeof i&&(r=i,i=0);var s=null;"undefined"!=typeof Promise&&(s=Promise.create(),r&&s.then(r),r=s.resolve);var o=new p(this,e,t,n,i,r);return s||o}},{key:"clearTransform",value:function(){return"number"==typeof this.x&&(this.x=0),"number"==typeof this.y&&(this.y=0),"number"==typeof this.z&&(this.z=0),"number"==typeof this.scale&&(this.scale=1),"number"==typeof this.scaleX&&(this.scaleX=1),"number"==typeof this.scaleY&&(this.scaleY=1),"number"==typeof this.rotation&&(this.rotation=0),"number"==typeof this.rotationX&&(this.rotationX=0),"number"==typeof this.rotationY&&(this.rotationY=0),"number"==typeof this.rotationZ&&(this.rotationZ=0),"number"==typeof this.skewX&&(this.skewX=0),"number"==typeof this.skewY&&(this.skewY=0),this.element.style[l.transformProperty]="",this}},{key:"stopTween",value:function(){return this.cssTween&&this.cssTween.stop(),this.mathTween&&this.mathTween.stop(),this}},{key:"attr",value:function(e,t){return void 0===t?this.element.getAttribute(e):(""===t?this.element.removeAttribute(e):this.element.setAttribute(e,t),this)}},{key:"svgSymbol",value:function(e,t,n){var i=y.getSymbolConfig(e);this.html('<svg viewBox="0 0 '+i.width+" "+i.height+'" width="'+t+'" height="'+n+'"><use xlink:href="#'+i.id+'" x="0" y="0"/></svg>')}},{key:"startRender",value:function(e){this.loop=e,a.start(e)}},{key:"stopRender",value:function(e){this.loop=null,a.stop(e)}},{key:"click",value:function(e){var t=this;return this.element.addEventListener("click",function(n){n.object="hit"===t.element.className?t.parent:t,n.action="click",e&&e(n)},!0),this.element.style.cursor="pointer",this}},{key:"hover",value:function(e){var t=this,n=function(n){n.object="hit"===t.element.className?t.parent:t,n.action="mouseout"===n.type?"out":"over",e&&e(n)};return this.element.addEventListener("mouseover",n,!0),this.element.addEventListener("mouseout",n,!0),this}},{key:"press",value:function(e){var t=this,n=function(n){n.object="hit"===t.element.className?t.parent:t,n.action="mousedown"===n.type?"down":"up",e&&e(n)};return this.element.addEventListener("mousedown",n,!0),this.element.addEventListener("mouseup",n,!0),this}},{key:"bind",value:function(e,t){return this.element.addEventListener(e,t,!0),this}},{key:"unbind",value:function(e,t){return this.element.removeEventListener(e,t,!0),this}},{key:"interact",value:function(e,t){return this.hit=this.create(".hit").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:99999}),this.hit.hover(e).click(t),this}},{key:"split",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={position:"relative",display:"block",width:"auto",height:"auto",margin:0,padding:0,cssFloat:"left"},n=[],i=this.text().split(e);this.empty();for(var r=0;r<i.length;r++)" "===i[r]&&(i[r]="&nbsp;"),n.push(this.create(".t","span").html(i[r]).css(t)),""!==e&&r<i.length-1&&n.push(this.create(".t","span").html(e).css(t));return n}}]),e}(),b=function(e){function t(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments[3],a=arguments[4];n(this,t);var u=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"canvas",a));u.children=[],u.retina=o,u.context=u.element.getContext("2d");var c=o?2:1;return u.element.width=i*c,u.element.height=r*c,u.context.scale(c,c),u.size(i,r),u}return r(t,m),i(t,[{key:"toDataURL",value:function(e,t){return this.element.toDataURL(e,t)}},{key:"render",value:function(e){"boolean"==typeof e&&e||this.clear();for(var t=0;t<this.children.length;t++)this.children[t].render()}},{key:"clear",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"add",value:function(e){e.setCanvas(this),e.parent=this,this.children.push(e),e.z=this.children.length}},{key:"remove",value:function(e){e.canvas=null,e.parent=null;var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)}},{key:"destroy",value:function(){this.stopRender();for(var e=0;e<this.children.length;e++)this.children[e].destroy();return c.nullObject(this)}},{key:"getImageData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.element.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.element.height;return this.imageData=this.context.getImageData(e,t,n,i),this.imageData}},{key:"getPixel",value:function(e,t,n){this.imageData&&!n||this.getImageData();var i={},r=4*(e+t*this.element.width),s=this.imageData.data;return i.r=s[r],i.g=s[r+1],i.b=s[r+2],i.a=s[r+3],i}},{key:"putImageData",value:function(e){this.context.putImageData(e,0,0)}}]),t}(),w=function(){function e(t){var i=this;n(this,e),this.styles={};var r={x:0,y:0,width:0,height:0};t?this.styled=!1:this.data=new Float32Array(6),this.hit=function(e){return r.x=i.data[0],r.y=i.data[1],r.width=e.width,r.height=e.height,r}}return i(e,[{key:"setTRSA",value:function(e,t,n,i,r,s){var o=this.data;o[0]=e,o[1]=t,o[2]=n,o[3]=i,o[4]=r,o[5]=s}},{key:"calculate",value:function(e){var t=e.data,n=this.data;n[0]=n[0]+t[0],n[1]=n[1]+t[1],n[2]=n[2]+t[2],n[3]=n[3]*t[3],n[4]=n[4]*t[4],n[5]=n[5]*t[5]}},{key:"calculateStyle",value:function(e){if(!e.styled)return!1;this.styled=!0;var t=e.values;for(var n in t)this.styles[n]||(this.styles[n]=t[n])}},{key:"shadowOffsetX",set:function(e){this.styled=!0,this.styles.shadowOffsetX=e},get:function(){return this.styles.shadowOffsetX}},{key:"shadowOffsetY",set:function(e){this.styled=!0,this.styles.shadowOffsetY=e},get:function(){return this.styles.shadowOffsetY}},{key:"shadowBlur",set:function(e){this.styled=!0,this.styles.shadowBlur=e},get:function(){return this.styles.shadowBlur}},{key:"shadowColor",set:function(e){this.styled=!0,this.styles.shadowColor=e},get:function(){return this.styles.shadowColor}},{key:"values",get:function(){return this.styles}}]),e}(),g=function e(t){function i(t){t instanceof e?r(t):"number"==typeof t?s(t):Array.isArray(t)?o(t):s(Number("0x"+t.slice(1)))}function r(e){c.r=e.r,c.g=e.g,c.b=e.b}function s(e){e=Math.floor(e),c.r=(e>>16&255)/255,c.g=(e>>8&255)/255,c.b=(255&e)/255}function o(e){c.r=e[0],c.g=e[1],c.b=e[2]}function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var u=this;n(this,e);var c=this;this.r=1,this.g=1,this.b=1,i(t),this.set=function(e){return i(e),u},this.setRGB=function(e,t,n){return u.r=e,u.g=t,u.b=n,u},this.setHSL=function(e,t,n){if(0===t)u.r=u.g=u.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;u.r=a(r,i,e+1/3),u.g=a(r,i,e),u.b=a(r,i,e-1/3)}return u},this.offsetHSL=function(e,t,n){var i=u.getHSL();return i.h+=e,i.s+=t,i.l+=n,u.setHSL(i.h,i.s,i.l),u},this.getStyle=function(){return"rgb("+(255*u.r|0)+","+(255*u.g|0)+","+(255*u.b|0)+")"},this.getHex=function(){return 255*u.r<<16^255*u.g<<8^255*u.b<<0},this.getHexString=function(){return"#"+("000000"+u.getHex().toString(16)).slice(-6)},this.getHSL=function(){u.hsl=u.hsl||{h:0,s:0,l:0};var e=u.hsl,t=u.r,n=u.g,i=u.b,r=Math.max(t,n,i),s=Math.min(t,n,i),o=void 0,a=void 0,c=(s+r)/2;if(s===r)o=0,a=0;else{var l=r-s;switch(a=c<=.5?l/(r+s):l/(2-r-s),r){case t:o=(n-i)/l+(n<i?6:0);break;case n:o=(i-t)/l+2;break;case i:o=(t-n)/l+4}o/=6}return e.h=o,e.s=a,e.l=c,e},this.add=function(e){u.r+=e.r,u.g+=e.g,u.b+=e.b},this.mix=function(e,t){u.r*=1-t+e.r*t,u.g*=1-t+e.g*t,u.b*=1-t+e.b*t},this.addScalar=function(e){u.r+=e,u.g+=e,u.b+=e},this.multiply=function(e){u.r*=e.r,u.g*=e.g,u.b*=e.b},this.multiplyScalar=function(e){u.r*=e,u.g*=e,u.b*=e},this.clone=function(){return new e([u.r,u.g,u.b])},this.toArray=function(){return u.array||(u.array=[]),u.array[0]=u.r,u.array[1]=u.g,u.array[2]=u.b,u.array}},k=function(){function e(){n(this,e),this.visible=!0,this.blendMode="source-over",this.x=0,this.y=0,this.px=0,this.py=0,this.clipX=0,this.clipY=0,this.clipWidth=0,this.clipHeight=0,this.width=0,this.height=0,this.rotation=0,this.scale=1,this.opacity=1,this.values=new w,this.styles=new w(!0),this.children=[]}return i(e,[{key:"updateValues",value:function(){this.values.setTRSA(this.x,this.y,c.toRadians(this.rotation),this.scaleX||this.scale,this.scaleY||this.scale,this.opacity),this.parent.values&&this.values.calculate(this.parent.values),this.parent.styles&&this.styles.calculateStyle(this.parent.styles)}},{key:"render",value:function(e){if(!this.visible)return!1;this.updateValues(),this.draw&&this.draw(e);for(var t=0;t<this.children.length;t++)this.children[t].render(e)}},{key:"startDraw",value:function(e,t,n){var i=this.canvas.context,r=this.values.data,s=r[0]+(e||0),o=r[1]+(t||0);if(i.save(),n||(i.globalCompositeOperation=this.blendMode),i.translate(s,o),i.rotate(r[2]),i.scale(r[3],r[4]),i.globalAlpha=r[5],this.styles.styled){var a=this.styles.values;for(var u in a){var c=a[u];i[u]=c instanceof g?c.getHexString():c}}}},{key:"endDraw",value:function(){this.canvas.context.restore()}},{key:"add",value:function(e){e.canvas=this.canvas,e.parent=this,this.children.push(e),e.z=this.children.length}},{key:"setCanvas",value:function(e){this.canvas=e;for(var t=this.children.length-1;t>-1;t--)this.children[t].setCanvas(e)}},{key:"remove",value:function(e){e.canvas=null,e.parent=null;var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)}},{key:"isMask",value:function(){for(var e=this;e;){if(e.masked)return!0;e=e.parent}return!1}},{key:"unmask",value:function(){this.masked.mask(null),this.masked=null}},{key:"setZ",value:function(e){this.z=e,this.parent.children.sort(function(e,t){return e.z-t.z})}},{key:"follow",value:function(e){return this.x=e.x,this.y=e.y,this.px=e.px,this.py=e.py,this.clipX=e.clipX,this.clipY=e.clipY,this.clipWidth=e.clipWidth,this.clipHeight=e.clipHeight,this.width=e.width,this.height=e.height,this.rotation=e.rotation,this.scale=e.scale,this.scaleX=e.scaleX||e.scale,this.scaleY=e.scaleY||e.scale,this}},{key:"visible",value:function(){return this.visible=!0,this}},{key:"invisible",value:function(){return this.visible=!1,this}},{key:"transform",value:function(e){for(var t in e)"number"==typeof e[t]&&(this[t]=e[t]);return this}},{key:"transformPoint",value:function(e,t){return this.px="number"==typeof e?e:this.width*(parseFloat(e)/100),this.py="number"==typeof t?t:this.height*(parseFloat(t)/100),this}},{key:"clip",value:function(e,t,n,i){return this.clipX=e,this.clipY=t,this.clipWidth=n,this.clipHeight=i,this}},{key:"hit",value:function(e){if(!this.ignoreHit&&c.hitTestObject(e,this.values.hit(this)))return this;for(var t=this.children.length-1;t>-1;t--){var n=this.children[t];if(n.hit(e))return n}return!1}},{key:"destroy",value:function(){for(var e=0;e<this.children.length;e++)this.children[e].destroy();return c.nullObject(this)}}]),e}(),O=new(function(){function e(){n(this,e)}return i(e,[{key:"createImg",value:function(e,t){var n=new Image;return n.src=(Config.CDN||"")+e,n.onload=function(){t&&t()},n}},{key:"promise",value:function(e){var t=Promise.create();return e.onload=t.resolve,t}}]),e}()),x=function(e){function t(){function e(e){for(var t in a.props){var n=a.props[t];e[t]=n instanceof g?n.getHexString():n}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;n(this,t);var o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=o;o.width=i,o.height=r,o.props={};var u={},l=[],h=void 0;return o.draw=function(t){if(o.isMask()&&!t)return!1;var n=o.canvas.context;o.startDraw(-o.px,-o.py,t),e(n),o.clipWidth&&o.clipHeight&&(n.beginPath(),n.rect(o.clipX,o.clipY,o.clipWidth,o.clipHeight),n.clip());for(var i=0;i<l.length;i++){var r=l[i];if(r){var s=r.shift();n[s].apply(n,r),r.unshift(s)}}o.endDraw(),h&&(n.globalCompositeOperation=h.blendMode,h.render(!0))},o.clear=function(){for(var e=0;e<l.length;e++)l[e].length=0;l.length=0},o.arc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.radius||o.width/2,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e&&!t&&(n=e,e=0,t=0),n-=90,r-=90,l.push(["beginPath"]),l.push(["arc",e,t,i,c.toRadians(r),c.toRadians(n),s])},o.quadraticCurveTo=function(e,t,n,i){l.push(["quadraticCurveTo",e,t,n,i])},o.bezierCurveTo=function(e,t,n,i,r,s){l.push(["bezierCurveTo",e,t,n,i,r,s])},o.fillRect=function(e,t,n,i){l.push(["fillRect",e,t,n,i])},o.clearRect=function(e,t,n,i){l.push(["clearRect",e,t,n,i])},o.strokeRect=function(e,t,n,i){l.push(["strokeRect",e,t,n,i])},o.moveTo=function(e,t){l.push(["moveTo",e,t])},o.lineTo=function(e,t){l.push(["lineTo",e,t])},o.stroke=function(){l.push(["stroke"])},o.fill=function(){h||l.push(["fill"])},o.beginPath=function(){l.push(["beginPath"])},o.closePath=function(){l.push(["closePath"])},o.fillText=function(e,t,n){l.push(["fillText",e,t,n])},o.strokeText=function(e,t,n){l.push(["strokeText",e,t,n])},o.setLineDash=function(e){l.push(["setLineDash",e])},o.createImage=function(e,t){if(!u[e]||t){var n=O.createImg(e);if(t)return n;u[e]=n}return u[e]},o.drawImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.width,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.height,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:e.width,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:e.height;"string"==typeof e&&(e=o.createImage(e)),l.push(["drawImage",e,t,n,i,r,s,a,u,c])},o.mask=function(e){if(!e)return h=null;h=e,e.masked=o;for(var t=0;t<l.length;t++)"fill"!==l[t][0]&&"stroke"!==l[t][0]||(l[t].length=0,l.splice(t,1))},o.clone=function(){var e=new t(o.width,o.height);return e.visible=o.visible,e.blendMode=o.blendMode,e.opacity=o.opacity,e.follow(o),e.props=c.cloneObject(o.props),e.setDraw(c.cloneArray(l)),e},o.setDraw=function(e){l=e},o}return r(t,k),i(t,[{key:"strokeStyle",set:function(e){this.props.strokeStyle=e},get:function(){return this.props.strokeStyle}},{key:"fillStyle",set:function(e){this.props.fillStyle=e},get:function(){return this.props.fillStyle}},{key:"lineWidth",set:function(e){this.props.lineWidth=e},get:function(){return this.props.lineWidth}},{key:"lineCap",set:function(e){this.props.lineCap=e},get:function(){return this.props.lineCap}},{key:"lineDashOffset",set:function(e){this.props.lineDashOffset=e},get:function(){return this.props.lineDashOffset}},{key:"lineJoin",set:function(e){this.props.lineJoin=e},get:function(){return this.props.lineJoin}},{key:"miterLimit",set:function(e){this.props.miterLimit=e},get:function(){return this.props.miterLimit}},{key:"font",set:function(e){this.props.font=e},get:function(){return this.props.font}},{key:"textAlign",set:function(e){this.props.textAlign=e},get:function(){return this.props.textAlign}},{key:"textBaseline",set:function(e){this.props.textBaseline=e},get:function(){return this.props.textBaseline}}]),t}(),S=function(e){function t(e,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;n(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),u=e.initClass(b,i,r,o);return a.img=function(e){return a.drawImage(e,0,0,r,o),u.add(a),a},a}return r(t,x),t}(),I=new function e(){function t(e,t,n,i,r,s,o,a){var u=e.context,c=e.initClass(x,t,n);c.font=r,c.fillStyle=s,c.totalWidth=0;var l=void 0,h=i.split(""),f=0,d=0;u.font=r;for(var v=0;v<h.length;v++)c.totalWidth+=u.measureText(h[v]).width+o;switch(a){case"start":case"left":d=0;break;case"end":case"right":d=t-c.totalWidth;break;case"center":d=(t-c.totalWidth)/2}do{l=h[f++],c.fillText(l,d,0),d+=u.measureText(l).width+o}while(f<i.length);return c}n(this,e),this.createText=function(e,n,i,r,s,o,a){var u=a.letterSpacing,c=void 0===u?0:u,l=a.lineHeight,h=void 0===l?i:l,f=a.textAlign,d=void 0===f?"start":f,v=e.context;if(i===h)return t(e,n,i,r,s,o,c,d);var p=e.initClass(x,n,i),y=r.split(" "),m="",b=[];p.totalWidth=0,p.totalHeight=0,v.font=s;for(var w=0;w<y.length;w++){for(var g=m+y[w]+" ",k=g.split(""),O=0,S=0;S<k.length;S++)O+=v.measureText(k[S]).width+c;O>n&&w>0?(b.push(m),m=y[w]+" "):m=g}return b.push(m),b.every(function(i,r){var a=t(e,n,h,i,s,o,c,d);return a.y=r*h,p.add(a),p.totalWidth=Math.max(a.totalWidth,p.totalWidth),p.totalHeight+=h,!0}),p}},E=new function e(){var t=this;n(this,e),this.x=0,this.y=0;var i=function(e){t.x=e.x,t.y=e.y};this.capture=function(){t.x=0,t.y=0,window.addEventListener("mousemove",i,!0)},this.stop=function(){t.x=0,t.y=0,window.removeEventListener("mousemove",i,!0)}},T=new function e(){function i(e,n){if("object"===(void 0===n?"undefined":t(n)))for(var r in n){var o=e+"["+r+"]";"object"===t(n[r])?i(o,n[r]):s.push(o+"="+n[r])}else s.push(e+"="+n)}var r=this;n(this,e),this.headers={},this.options={};var s=[];this.get=function(e,n,o,a){if("function"==typeof n)a=o,o=n,n=null;else if("object"===(void 0===n?"undefined":t(n))){for(var u in n)i(u,n[u]);n=(n=(n=s.join("&")).replace(/\[/g,"%5B")).replace(/\]/g,"%5D"),s=null,e+="?"+n}var c=new XMLHttpRequest;c.open("GET",e,!0),"arraybuffer"===a&&(c.responseType="arraybuffer"),"blob"===a&&(c.responseType="blob"),"text"===a&&c.overrideMimeType("text/plain"),"json"===a&&c.setRequestHeader("Accept","application/json");for(var l in r.headers)c.setRequestHeader(l,r.headers[l]);for(var h in r.options)c[h]=r.options[h];var f=null;return"undefined"!=typeof Promise&&(f=Promise.create(),o&&f.then(o),o=f.resolve),c.send(),c.onreadystatechange=function(){o&&(4===c.readyState&&200===c.status?o("arraybuffer"===a||"blob"===a?c.response:"text"===a?c.responseText:JSON.parse(c.responseText)):0!=c.status&&400!=c.status&&401!=c.status&&404!=c.status&&500!=c.status||(f?f.reject(c):o(c)))},f||c},this.post=function(e,n,o,a){if("function"==typeof n)a=o,o=n,n=null;else if("object"===(void 0===n?"undefined":t(n)))if("json"===a)n=JSON.stringify(n);else{for(var u in n)i(u,n[u]);n=(n=(n=s.join("&")).replace(/\[/g,"%5B")).replace(/\]/g,"%5D"),s=null}var c=new XMLHttpRequest;c.open("POST",e,!0),"arraybuffer"===a&&(c.responseType="arraybuffer"),"blob"===a&&(c.responseType="blob"),"text"===a&&c.overrideMimeType("text/plain"),"json"===a&&c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-Type","json"===a?"application/json":"application/x-www-form-urlencoded");for(var l in r.headers)c.setRequestHeader(l,r.headers[l]);for(var h in r.options)c[h]=r.options[h];var f=null;return"undefined"!=typeof Promise&&(f=Promise.create(),o&&f.then(o),o=f.resolve),c.send(),c.onreadystatechange=function(){o&&(4===c.readyState&&200===c.status?o("arraybuffer"===a||"blob"===a?c.response:"text"===a?c.responseText:JSON.parse(c.responseText)):0!=c.status&&400!=c.status&&401!=c.status&&404!=c.status&&500!=c.status||(f?f.reject(c):o(c)))},f||c}};window.AudioContext||(window.AudioContext=window.webkitAudioContext||window.mozAudioContext||window.oAudioContext);var C=new function e(){var t=this;n(this,e);var i=void 0,r=[];this.init=function(){i=new window.AudioContext,t.globalGain=i.createGain(),t.globalGain.connect(i.destination)},this.createSound=function(e,n,s){var o={id:e};i.decodeAudioData(n,function(e){o.buffer=e,o.audioGain=i.createGain(),o.audioGain.connect(t.globalGain),o.complete=!0,s&&s()}),r.push(o)},this.getSound=function(e){for(var t=0;t<r.length;t++)if(r[t].id===e)return r[t];return null},this.trigger=function(e){if(i){var n=t.getSound(e),r=i.createBufferSource();r.buffer=n.buffer,r.connect(n.audioGain),r.start(0)}},this.mute=function(){i&&v.tween(t.globalGain.gain,{value:0},300,"easeOutSine")},this.unmute=function(){i&&v.tween(t.globalGain.gain,{value:1},500,"easeOutSine")}},M=function e(t,i){function r(){l=++u/a,s.events.fire(Events.PROGRESS,{percent:l}),u===a&&(s.complete=!0,s.events.fire(Events.COMPLETE),i&&i())}n(this,e),Array.isArray(t)&&(t=t.map(function(e){return c.basename(e)}).reduce(function(e,n,i){return e[n]=t[i],e},{}));var s=this;this.events=new o,this.CDN=Config.CDN||"";var a=Object.keys(t).length,u=0,l=0;for(var h in t)!function(e,t){var n=t.split("/"),i=(n=n[n.length-1]).split(".");switch(i[i.length-1].split("?")[0]){case"mp3":if(!window.AudioContext)return r();T.get(t,function(t){C.createSound(e,t,r)},"arraybuffer");break;default:O.createImg(t,r)}}(h,this.CDN+t[h])};M.loadAssets=function(e,t){var n=Promise.create();return t||(t=n.resolve),new M(e,t),n};var R=new(function(e){function t(){function e(){r.size()}n(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Stage")),r=i,o=void 0;return r.css({overflow:"hidden"}),window.addEventListener("focus",function(){"focus"!==o&&(o="focus",window.events.fire(Events.BROWSER_FOCUS,{type:"focus"}))},!0),window.addEventListener("blur",function(){"blur"!==o&&(o="blur",window.events.fire(Events.BROWSER_FOCUS,{type:"blur"}))},!0),window.addEventListener("keydown",function(){return window.events.fire(Events.KEYBOARD_DOWN)},!0),window.addEventListener("keyup",function(){return window.events.fire(Events.KEYBOARD_UP)},!0),window.addEventListener("keypress",function(){return window.events.fire(Events.KEYBOARD_PRESS)},!0),l.mobile||(window.addEventListener("resize",function(){return window.events.fire(Events.RESIZE)},!0),window.events.add(Events.RESIZE,e)),e(),i}return r(t,m),t}()),A=function e(t,i){n(this,e);var r=this;this.events=new o;var s=void 0;!function(){Array.isArray(t)||(t=[t]),s=R.create("FontLoader");for(var e=0;e<t.length;e++)s.create("font").fontStyle(t[e],12,"#000").text("LOAD").css({top:-999})}(),Delayed(function(){s.destroy(),r.complete=!0,r.events.fire(Events.COMPLETE),i&&i()},500)};A.loadFonts=function(e,t){var n=Promise.create();return t||(t=n.resolve),new A(e,t),n},"undefined"!=typeof Promise&&(Promise.create=function(){var e=void 0,t=void 0,n=new Promise(function(n,i){e=n,t=i});return n.resolve=e,n.reject=t,n}),window.getURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";return window.open(e,t)},window.Delayed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];return window.setTimeout(function(){e&&e(n)},t)},window.Global||(window.Global={}),window.Config||(window.Config={}),e.EventManager=o,e.Interface=m,e.Canvas=b,e.CanvasGraphics=x,e.CanvasImage=S,e.CanvasFont=I,e.Color=g,e.Render=a,e.DynamicObject=u,e.Utils=c,e.Device=l,e.Mouse=E,e.TweenManager=v,e.Interpolation=h,e.MathTween=f,e.SpringTween=d,e.AssetLoader=M,e.FontLoader=A,e.Images=O,e.SVG=y,e.XHR=T,e.WebAudio=C,e.Stage=R,Object.defineProperty(e,"__esModule",{value:!0})});
