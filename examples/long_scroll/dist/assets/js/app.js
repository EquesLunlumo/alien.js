//   _  /._  _  r13 2018-11-05 8:16pm
//  /_|///_'/ /
Promise.create=function(){let e,t;const s=new Promise(function(s,i){e=s,t=i});return s.resolve=e,s.reject=t,s},Math.sign=function(e){return 0===(e=+e)||isNaN(e)?Number(e):e>0?1:-1},Math.degrees=function(e){return e*(180/Math.PI)},Math.radians=function(e){return e*(Math.PI/180)},Math.clamp=function(e,t,s){return Math.min(Math.max(e,Math.min(t,s)),Math.max(t,s))},Math.range=function(e,t,s,i,n,o){const r=(e-t)*(n-i)/(s-t)+i;return o?Math.clamp(r,i,n):r},Math.mix=function(e,t,s){return e*(1-s)+t*s},Math.step=function(e,t){return t<e?0:1},Math.smoothStep=function(e,t,s){const i=Math.max(0,Math.min(1,(s-e)/(t-e)));return i*i*(3-2*i)},Math.fract=function(e){return e-Math.floor(e)},Math.mod=function(e,t){return(e%t+t)%t},Array.prototype.shuffle=function(){let e,t,s=this.length;for(;0!==s;)t=Math.floor(Math.random()*s),e=this[s-=1],this[s]=this[t],this[t]=e;return this},Array.storeRandom=function(e){e.randomStore=[]},Array.prototype.random=function(e){let t=Math.floor(Math.random()*this.length);if(e&&!this.randomStore&&Array.storeRandom(this),!this.randomStore)return this[t];if(e>this.length-1&&(e=this.length),e>1){for(;~this.randomStore.indexOf(t);)t++>this.length-1&&(t=0);this.randomStore.push(t),this.randomStore.length>=e&&this.randomStore.shift()}return this[t]},Array.prototype.remove=function(e){const t=this.indexOf(e);if(~t)return this.splice(t,1)},Array.prototype.last=function(){return this[this.length-1]},String.prototype.includes=function(e){if(!Array.isArray(e))return~this.indexOf(e);for(let t=0;t<e.length;t++)if(~this.indexOf(e[t]))return!0;return!1},String.prototype.clip=function(e,t){return this.length>e?this.slice(0,e)+t:this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},Date.prototype.addDays=function(e){const t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},window.get=function(e,t={}){const s=Promise.create();return t.method="GET",window.fetch(e,t).then(function(e){if(!e.ok)return s.reject(e);e.text().then(function(e){if(e.charAt(0).includes(["[","{"]))try{s.resolve(JSON.parse(e))}catch(t){s.resolve(e)}else s.resolve(e)})}).catch(s.reject),s},window.post=function(e,t,s={}){const i=Promise.create();return s.method="POST",s.body=JSON.stringify(t),window.fetch(e,s).then(function(e){if(!e.ok)return i.reject(e);e.text().then(function(e){if(e.charAt(0).includes(["[","{"]))try{i.resolve(JSON.parse(e))}catch(t){i.resolve(e)}else i.resolve(e)})}).catch(i.reject),i},window.getURL=function(e,t="_blank"){window.open(e,t)},window.Config||(window.Config={}),window.Global||(window.Global={});class Utils{static random(e,t,s=0){if(void 0===e)return Math.random();if(e===t)return e;e=e||0,t=t||1;const i=Math.pow(10,s);return Math.round((e+Math.random()*(t-e))*i)/i}static headsTails(e,t){return this.random(0,1)?t:e}static queryString(e){const t=decodeURI(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURI(e).replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));return!(!t.length||"0"===t||"false"===t)&&t}static getConstructorName(e){return e.constructor.name||e.constructor.toString().match(/function ([^(]+)/)[1]}static nullObject(e){for(let t in e)void 0!==e[t]&&(e[t]=null);return null}static cloneObject(e){return JSON.parse(JSON.stringify(e))}static mergeObject(...e){const t={};for(let s of e)Object.assign(t,s);return t}static cloneArray(e){return e.slice(0)}static basename(e,t){const s=e.split("/").last();return t?s:s.split(".")[0]}static extension(e){return e.split(".").last().split("?")[0].toLowerCase()}static base64(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode("0x"+t)))}static date(e){const t=e.split(/[^0-9]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])}static timestamp(){return(Date.now()+this.random(0,99999)).toString()}static pad(e){return e<10?"0"+e:e}static get hash(){return window.location.hash.slice(1)}}class Render{static init(){const e=this,t=[],s=200;let i=performance.now();function n(o){const r=Math.min(s,o-i);i=o,e.TIME=o,e.DELTA=r;for(let e=t.length-1;e>=0;e--){const s=t[e];if(s)if(s.fps){if(o-s.last<1e3/s.fps)continue;s(++s.frame),s.last=o}else s(o,r);else t.remove(s)}e.paused||requestAnimationFrame(n)}requestAnimationFrame(n),this.start=((e,s)=>{s&&(e.fps=s,e.last=-1/0,e.frame=-1),~t.indexOf(e)||t.unshift(e)}),this.stop=(e=>{t.remove(e)}),this.tick=(()=>{this.TIME=performance.now(),n(this.TIME)}),this.pause=(()=>{this.paused=!0}),this.resume=(()=>{this.paused&&(this.paused=!1,requestAnimationFrame(n))})}}Render.init();class Timer{static init(){const e=[],t=[];Render.start(function(s,i){for(let s=0;s<t.length;s++){const i=t[s];i.callback=null,e.remove(i)}t.length&&(t.length=0);for(let s=0;s<e.length;s++){const n=e[s];n?(n.current+=i)>=n.time&&(n.callback&&n.callback(...n.args),t.push(n)):e.remove(n)}}),this.clearTimeout=(t=>{const s=function(t){for(let s=0;s<e.length;s++)if(e[s].ref===t)return e[s];return null}(t);return!!s&&(s.callback=null,e.remove(s),!0)}),this.create=((t,s=1,...i)=>{const n={time:Math.max(1,s),current:0,ref:Utils.timestamp(),callback:t,args:i};return e.push(n),n.ref}),window.defer=this.defer=(e=>this.create(e,1))}}Timer.init();class Events{constructor(){class e{constructor(){this.events=[],this.links=[]}add(e,t,s){this.events.push({event:e,callback:t,object:s})}remove(e,t){for(let s=this.events.length-1;s>=0;s--)this.events[s].event===e&&this.events[s].callback===t&&(this.events[s].removed=!0,this.events.splice(s,1)[0]=null)}fire(e,t={}){let s=!1;const i=Utils.cloneArray(this.events);for(let n=0;n<i.length;n++)i[n].event!==e||i[n].removed||(i[n].callback(t),s=!0);return s}destroy(e){for(let t=this.events.length-1;t>=0;t--)this.events[t].object===e&&(this.events.splice(t,1)[0]=null)}link(e){~this.links.indexOf(e)||this.links.push(e)}}Events.initialized||(Events.emitter=new e,Events.VISIBILITY="visibility",Events.COMPLETE="complete",Events.PROGRESS="progress",Events.UPDATE="update",Events.LOADED="loaded",Events.ERROR="error",Events.READY="ready",Events.RESIZE="resize",Events.CLICK="click",Events.HOVER="hover",Events.FULLSCREEN="fullscreen",Events.KEYBOARD_PRESS="keyboard_press",Events.KEYBOARD_DOWN="keyboard_down",Events.KEYBOARD_UP="keyboard_up",Events.initialized=!0);const t=[];this.emitter=new e,this.add=((e,s,i)=>{if("object"!=typeof e&&(i=s,s=e,e=null),e){const n=e.events.emitter;n.add(s,i,this),n.link(this),t.push(n)}else Events.emitter.add(s,i,this)}),this.remove=((e,t,s)=>{"object"!=typeof e&&(s=t,t=e,e=null),e?e.events.emitter.remove(t,s):Events.emitter.remove(t,s)}),this.fire=((e,t={},s)=>{this.emitter.fire(e,t)||s||Events.emitter.fire(e,t)}),this.bubble=((e,t)=>{this.add(e,t,e=>this.fire(t,e))}),this.destroy=(()=>(Events.emitter.destroy(this),t.forEach(e=>e.destroy(this)),this.emitter.links.forEach(e=>{e.unlink&&e.unlink(this.emitter)}),Utils.nullObject(this))),this.unlink=(e=>{t.remove(e)})}}class Device{static init(){this.agent=navigator.userAgent.toLowerCase(),this.pixelRatio=window.devicePixelRatio,this.webcam=!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),this.language=navigator.userLanguage||navigator.language,this.webaudio=!!window.AudioContext,this.os=(()=>this.detect(["iphone","ipad"])?"ios":this.detect(["android"])?"android":this.detect(["blackberry"])?"blackberry":this.detect(["mac os"])?"mac":this.detect(["windows"])?"windows":this.detect(["linux"])?"linux":"unknown")(),this.browser=(()=>"ios"===this.os?this.detect(["safari"])?"safari":"unknown":"android"===this.os?this.detect(["chrome"])?"chrome":this.detect(["firefox"])?"firefox":"browser":this.detect(["msie"])?"ie":this.detect(["trident"])&&this.detect(["rv:"])?"ie":this.detect(["windows"])&&this.detect(["edge"])?"ie":this.detect(["chrome"])?"chrome":this.detect(["safari"])?"safari":this.detect(["firefox"])?"firefox":"unknown")(),this.mobile=this.detect(["iphone","ipad","android","blackberry"]),this.mobile&&(this.tablet=Math.max(window.screen?screen.width:window.innerWidth,window.screen?screen.height:window.innerHeight)>1e3,this.phone=!this.tablet),this.webgl=(()=>{try{const e=["webgl","experimental-webgl","webkit-3d","moz-webgl"],t=document.createElement("canvas");let s;for(let i=0;i<e.length&&!(s=t.getContext(e[i]));i++);const i=s.getExtension("WEBGL_debug_renderer_info"),n={};return i&&(n.gpu=s.getParameter(i.UNMASKED_RENDERER_WEBGL).toLowerCase()),n.renderer=s.getParameter(s.RENDERER).toLowerCase(),n.version=s.getParameter(s.VERSION).toLowerCase(),n.glsl=s.getParameter(s.SHADING_LANGUAGE_VERSION).toLowerCase(),n.extensions=s.getSupportedExtensions(),n.detect=(e=>{if(n.gpu&&n.gpu.includes(e))return!0;if(n.version&&n.version.includes(e))return!0;for(let t=0;t<n.extensions.length;t++)if(n.extensions[t].toLowerCase().includes(e))return!0;return!1}),n}catch(e){return!1}})()}static detect(e){return this.agent.includes(e)}static vibrate(e){navigator.vibrate&&navigator.vibrate(e)}}Device.init();class Component{constructor(){this.events=new Events,this.classes=[],this.timers=[],this.loops=[]}initClass(e,...t){const s=new e(...t);return this.add(s),s}add(e){return e.destroy&&(this.classes.push(e),e.parent=this),this}delayedCall(e,t=0,...s){if(!this.timers)return;const i=Timer.create(()=>{e&&e(...s)},t);return this.timers.push(i),this.timers.length>50&&this.timers.shift(),i}clearTimers(){for(let e=this.timers.length-1;e>=0;e--)Timer.clearTimeout(this.timers[e]);this.timers.length=0}startRender(e,t){this.loops.push(e),Render.start(e,t)}stopRender(e){this.loops.remove(e),Render.stop(e)}clearRenders(){for(let e=this.loops.length-1;e>=0;e--)this.stopRender(this.loops[e]);this.loops.length=0}destroy(){if(this.classes){this.removed=!0;const e=this.parent;e&&!e.removed&&e.remove&&e.remove(this);for(let e=this.classes.length-1;e>=0;e--){const t=this.classes[e];t&&t.destroy&&t.destroy()}this.classes.length=0,this.clearRenders(),this.clearTimers(),this.events.destroy()}return Utils.nullObject(this)}remove(e){this.classes.remove(e)}}class Assets{static init(){const e={},t={};this.CDN="",this.CORS=null,this.getPath=(e=>~e.indexOf("//")?e:(this.CDN&&!~e.indexOf(this.CDN)&&(e=this.CDN+e),e)),this.createImage=((t,s,i)=>{"boolean"!=typeof s&&(i=s,s=null);const n=new Image;return n.crossOrigin=this.CORS,n.onload=i,n.onerror=i,n.src=this.getPath(t),s&&(e[t]=n),n}),this.getImage=(t=>e[t]),this.storeData=((e,s)=>(t[e]=s,t[e])),this.getData=(e=>t[e])}static loadImage(e){"string"==typeof e&&(e=this.createImage(e));const t=Promise.create();return e.onload=(()=>t.resolve(e)),e.onerror=(()=>t.resolve(e)),t}}Assets.init();class Interpolation{static init(){function e(e,n,o){return((t(n,o)*e+s(n,o))*e+i(n))*e}function t(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function i(e){return 3*e}this.convertEase=(e=>(()=>{let t;switch(e){case"easeInQuad":t=this.Quad.In;break;case"easeInCubic":t=this.Cubic.In;break;case"easeInQuart":t=this.Quart.In;break;case"easeInQuint":t=this.Quint.In;break;case"easeInSine":t=this.Sine.In;break;case"easeInExpo":t=this.Expo.In;break;case"easeInCirc":t=this.Circ.In;break;case"easeInElastic":t=this.Elastic.In;break;case"easeInBack":t=this.Back.In;break;case"easeInBounce":t=this.Bounce.In;break;case"easeOutQuad":t=this.Quad.Out;break;case"easeOutCubic":t=this.Cubic.Out;break;case"easeOutQuart":t=this.Quart.Out;break;case"easeOutQuint":t=this.Quint.Out;break;case"easeOutSine":t=this.Sine.Out;break;case"easeOutExpo":t=this.Expo.Out;break;case"easeOutCirc":t=this.Circ.Out;break;case"easeOutElastic":t=this.Elastic.Out;break;case"easeOutBack":t=this.Back.Out;break;case"easeOutBounce":t=this.Bounce.Out;break;case"easeInOutQuad":t=this.Quad.InOut;break;case"easeInOutCubic":t=this.Cubic.InOut;break;case"easeInOutQuart":t=this.Quart.InOut;break;case"easeInOutQuint":t=this.Quint.InOut;break;case"easeInOutSine":t=this.Sine.InOut;break;case"easeInOutExpo":t=this.Expo.InOut;break;case"easeInOutCirc":t=this.Circ.InOut;break;case"easeInOutElastic":t=this.Elastic.InOut;break;case"easeInOutBack":t=this.Back.InOut;break;case"easeInOutBounce":t=this.Bounce.InOut;break;case"linear":t=this.Linear.None}if(!t){const s=TweenManager.getEase(e);if(s){const e=s.split("(")[1].slice(0,-1).split(",");for(let t=0;t<e.length;t++)e[t]=parseFloat(e[t]);t=e}else t=this.Cubic.Out}return t})()),this.solve=((n,o)=>n[0]===n[1]&&n[2]===n[3]?o:e(function(n,o,r){let a=n;for(let u=0;u<4;u++){const u=(c=a,3*t(h=o,l=r)*c*c+2*s(h,l)*c+i(h));if(0===u)return a;a-=(e(a,o,r)-n)/u}var c,h,l;return a}(o,n[0],n[2]),n[1],n[3])),this.Linear={None:e=>e},this.Quad={In:e=>e*e,Out:e=>e*(2-e),InOut:e=>(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},this.Cubic={In:e=>e*e*e,Out:e=>--e*e*e+1,InOut:e=>(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},this.Quart={In:e=>e*e*e*e,Out:e=>1- --e*e*e*e,InOut:e=>(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},this.Quint={In:e=>e*e*e*e*e,Out:e=>--e*e*e*e*e+1,InOut:e=>(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},this.Sine={In:e=>1-Math.cos(e*Math.PI/2),Out:e=>Math.sin(e*Math.PI/2),InOut:e=>.5*(1-Math.cos(Math.PI*e))},this.Expo={In:e=>0===e?0:Math.pow(1024,e-1),Out:e=>1===e?1:1-Math.pow(2,-10*e),InOut:e=>0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},this.Circ={In:e=>1-Math.sqrt(1-e*e),Out:e=>Math.sqrt(1- --e*e),InOut:e=>(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},this.Elastic={In(e,t=1,s=.4){let i;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=s/4):i=s*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/s))},Out(e,t=1,s=.4){let i;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=s/4):i=s*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-i)*(2*Math.PI)/s)+1)},InOut(e,t=1,s=.4){let i;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=s/4):i=s*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/s)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/s)*.5+1)}},this.Back={In(e){const t=1.70158;return e*e*((t+1)*e-t)},Out(e){const t=1.70158;return--e*e*((t+1)*e+t)+1},InOut(e){const t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},this.Bounce={In:e=>1-Interpolation.Bounce.Out(1-e),Out:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,InOut:e=>e<.5?.5*Interpolation.Bounce.In(2*e):.5*Interpolation.Bounce.Out(2*e-1)+.5}}}Interpolation.init();class MathTween{constructor(e,t,s,i,n,o,r){const a=this;let c,h,l,u,d,m,p,f;function v(){if(!e&&!t)return!1;e.mathTween=null,TweenManager.removeMathTween(a),Utils.nullObject(a),e.mathTweens&&e.mathTweens.remove(a)}!function(){!e.multiTween&&e.mathTween&&TweenManager.clearTween(e);TweenManager.addMathTween(a),e.mathTween=a,e.multiTween&&(e.mathTweens||(e.mathTweens=[]),e.mathTweens.push(a));i=Interpolation.convertEase(i),u="function"==typeof i,c=performance.now(),c+=n,l=t,h={},t.spring&&(m=t.spring);t.damping&&(p=t.damping);for(let t in l)"number"==typeof e[t]&&(h[t]=e[t])}(),this.update=(e=>{if(d||e<c)return;f=(f=(e-c)/s)>1?1:f;const t=this.interpolate(f);o&&o(t),1===f&&(r&&r(),v())}),this.stop=(()=>{v()}),this.pause=(()=>{d=!0}),this.resume=(()=>{d=!1,c=performance.now()-f*s}),this.interpolate=(t=>{const s=u?i(t,m,p):Interpolation.solve(i,t);for(let t in h)if("number"==typeof h[t]&&"number"==typeof l[t]){const i=h[t],n=l[t];e[t]=i+(n-i)*s}return s})}}class TweenManager{static init(){const e=this,t=[];this.TRANSFORMS=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ","skewX","skewY","perspective"],this.CSS_EASES={easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",linear:"linear"},Render.start(function(s){for(let i=t.length-1;i>=0;i--){const n=t[i];n.update?n.update(s):e.removeMathTween(n)}}),this.addMathTween=(e=>{t.push(e)}),this.removeMathTween=(e=>{t.remove(e)}),this.tween=((e,t,s,i,n,o,r)=>{"number"!=typeof n&&(r=o,o=n,n=0);let a=null;"undefined"!=typeof Promise&&(a=Promise.create(),o&&a.then(o),o=a.resolve);const c=new MathTween(e,t,s,i,n,r,o);return a||c}),this.clearTween=(e=>{if(e.mathTween&&e.mathTween.stop(),e.mathTweens){const t=e.mathTweens;for(let e=t.length-1;e>=0;e--){const s=t[e];s&&s.stop()}e.mathTweens=null}}),this.isTransform=(e=>~this.TRANSFORMS.indexOf(e)),this.getEase=(e=>this.CSS_EASES[e]||this.CSS_EASES.easeOutCubic),this.getAllTransforms=(e=>{const t={};for(let s=0;s<this.TRANSFORMS.length;s++){const i=this.TRANSFORMS[s],n=e[i];0!==n&&"number"==typeof n&&(t[i]=n)}return t}),this.parseTransform=(e=>{let t="";if(void 0!==e.x||void 0!==e.y||void 0!==e.z){const s=e.x||0,i=e.y||0,n=e.z||0;let o="";o+=s+"px, ",o+=i+"px, ",t+="translate3d("+(o+=n+"px")+")"}return void 0!==e.scale?t+="scale("+e.scale+")":(void 0!==e.scaleX&&(t+="scaleX("+e.scaleX+")"),void 0!==e.scaleY&&(t+="scaleY("+e.scaleY+")")),void 0!==e.rotation&&(t+="rotate("+e.rotation+"deg)"),void 0!==e.rotationX&&(t+="rotateX("+e.rotationX+"deg)"),void 0!==e.rotationY&&(t+="rotateY("+e.rotationY+"deg)"),void 0!==e.rotationZ&&(t+="rotateZ("+e.rotationZ+"deg)"),void 0!==e.skewX&&(t+="skewX("+e.skewX+"deg)"),void 0!==e.skewY&&(t+="skewY("+e.skewY+"deg)"),void 0!==e.perspective&&(t+="perspective("+e.perspective+"px)"),t}),this.interpolate=((e,t,s)=>{const i=Interpolation.convertEase(s);return e*("function"==typeof i?i(t):Interpolation.solve(i,t))}),this.interpolateValues=((e,t,s,i)=>{const n=Interpolation.convertEase(i);return e+(t-e)*("function"==typeof n?n(s):Interpolation.solve(n,s))})}}TweenManager.init();class CSSTransition{constructor(e,t,s,i,n,o){const r=this;let a,c;function h(){return!r||r.kill||!e||!e.element}function l(){h()||(r.kill=!0,e.element.style.transition="",e.willChange(null),e.cssTween=null,e=t=null,Utils.nullObject(r))}this.playing=!0,function(){const s=TweenManager.getAllTransforms(e),i=[];for(let e in t)TweenManager.isTransform(e)?(s.use=!0,s[e]=t[e],delete t[e]):("number"==typeof t[e]||~e.indexOf("-"))&&i.push(e);s.use&&(i.push("transform"),delete s.use);a=s,c=i}(),function(){if(h())return;e.cssTween&&e.cssTween.stop();e.cssTween=r;const u=function(e,t,s){let i="",n="";for(let o=0;o<c.length;o++){const r=c[o];i+=(i.length?", ":"")+r,n+=(n.length?", ":"")+r+" "+e+"ms "+TweenManager.getEase(t)+" "+s+"ms"}return{props:i,transition:n}}(s,i,n);e.willChange(u.props),Timer.create(()=>{h()||(e.element.style.transition=u.transition,e.css(t),e.transform(a),Timer.create(()=>{h()||(r.playing=!1,Timer.create(()=>{h()||e.cssTween&&!e.cssTween.playing&&l()},1e3),o&&o())},s+n))},35)}(),this.stop=l}}class Interface{constructor(e,t="div",s){if(this.events=new Events,this.classes=[],this.timers=[],this.loops=[],void 0!==e){if("string"!=typeof e&&e)this.element=e;else{if(this.name=e,this.type=t,"svg"===t){const e=s||"svg";s=!0,this.element=document.createElementNS("http://www.w3.org/2000/svg",e)}else this.element=document.createElement(t),"."!==e.charAt(0)?this.element.id=e:this.element.className=e.substr(1),this.element.style.position="absolute";s||document.body.appendChild(this.element)}this.element.object=this}}initClass(e,...t){const s=new e(...t);return this.add(s),s}add(e){return e.destroy&&(this.classes.push(e),e.parent=this),e.element?this.element.appendChild(e.element):e.nodeName&&this.element.appendChild(e),this}delayedCall(e,t=0,...s){if(!this.timers)return;const i=Timer.create(()=>{e&&e(...s)},t);return this.timers.push(i),this.timers.length>50&&this.timers.shift(),i}clearTimers(){for(let e=this.timers.length-1;e>=0;e--)Timer.clearTimeout(this.timers[e]);this.timers.length=0}startRender(e,t){this.loops.push(e),Render.start(e,t)}stopRender(e){this.loops.remove(e),Render.stop(e)}clearRenders(){for(let e=this.loops.length-1;e>=0;e--)this.stopRender(this.loops[e]);this.loops.length=0}destroy(){if(!this.classes)return;this.removed=!0;const e=this.parent;e&&!e.removed&&e.remove&&e.remove(this);for(let e=this.classes.length-1;e>=0;e--){const t=this.classes[e];t&&t.destroy&&t.destroy()}return this.classes.length=0,this.element.object=null,this.clearRenders(),this.clearTimers(),this.events.destroy(),Utils.nullObject(this)}remove(e){e.element?e.element.parentNode.removeChild(e.element):e.nodeName&&e.parentNode.removeChild(e),this.classes.remove(e)}create(e,t){const s=new Interface(e,t);return this.add(s),s}clone(){return new Interface(this.element.cloneNode(!0))}empty(){return this.element.innerHTML="",this}text(e){return void 0===e?this.element.textContent:(this.element.textContent=e,this)}html(e){return void 0===e?this.element.innerHTML:(this.element.innerHTML=e,this)}hide(){return this.element.style.display="none",this}show(){return this.element.style.display="",this}visible(){return this.element.style.visibility="visible",this}invisible(){return this.element.style.visibility="hidden",this}setZ(e){return this.element.style.zIndex=e,this}clearOpacity(){return this.element.style.opacity="",this}size(e,t=e,s){return"boolean"==typeof t&&(s=t,t=e),void 0!==e&&("string"==typeof e||"string"==typeof t?("string"!=typeof e&&(e+="px"),"string"!=typeof t&&(t+="px"),this.element.style.width=e,this.element.style.height=t):(this.element.style.width=e+"px",this.element.style.height=t+"px",s||(this.element.style.backgroundSize=e+"px "+t+"px"))),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this}mouseEnabled(e){return this.element.style.pointerEvents=e?"auto":"none",this}fontStyle(e,t,s,i){return this.css({fontFamily:e,fontSize:t,color:s,fontStyle:i}),this}bg(e,t,s,i){return~e.indexOf(".")&&(e=Assets.getPath(e)),e.includes(["data:","."])?this.element.style.backgroundImage="url("+e+")":this.element.style.backgroundColor=e,void 0!==t&&(t="number"==typeof t?t+"px":t,s="number"==typeof s?s+"px":s,this.element.style.backgroundPosition=t+" "+s),i&&(this.element.style.backgroundSize="",this.element.style.backgroundRepeat=i),"cover"!==t&&"contain"!==t||(i="number"==typeof i?i+"px":i,this.element.style.backgroundSize=t,this.element.style.backgroundRepeat="no-repeat",this.element.style.backgroundPosition=void 0!==s?s+" "+i:"center"),this}center(e,t,s){const i={};return void 0===e?(i.left="50%",i.top="50%",i.marginLeft=-this.width/2,i.marginTop=-this.height/2):(e&&(i.left="50%",i.marginLeft=-this.width/2),t&&(i.top="50%",i.marginTop=-this.height/2)),s&&(delete i.left,delete i.top),this.css(i),this}mask(e){return this.element.style.mask=(~e.indexOf(".")?"url("+e+")":e)+" no-repeat",this.element.style.maskSize="contain",this}blendMode(e,t){return this.element.style[t?"background-blend-mode":"mix-blend-mode"]=e,this}css(e,t){if("object"!=typeof e){if(void 0===t){let t=this.element.style[e];return"number"!=typeof t&&(~t.indexOf("px")&&(t=Number(t.slice(0,-2))),"opacity"===e&&(t=isNaN(Number(this.element.style.opacity))?1:Number(this.element.style.opacity))),t||0}return this.element.style[e]=t,this}for(let t in e){let s=e[t];"string"!=typeof s&&"number"!=typeof s||("string"!=typeof s&&"opacity"!==t&&"zIndex"!==t&&(s+="px"),this.element.style[t]=s)}return this}transform(e){if(e)for(let t in e)"number"==typeof e[t]&&(this[t]=e[t]);else e=this;return this.element.style.transform=TweenManager.parseTransform(e),this}willChange(e){const t="string"==typeof e;this.element.style.willChange=e?t?e:"transform, opacity":""}backfaceVisibility(e){return this.element.style.backfaceVisibility=e?"visible":"hidden",this}enable3D(e,t,s){return this.element.style.transformStyle="preserve-3d",e&&(this.element.style.perspective=e+"px"),void 0!==t&&(t="number"==typeof t?t+"px":t,s="number"==typeof s?s+"px":s,this.element.style.perspectiveOrigin=t+" "+s),this}disable3D(){return this.element.style.transformStyle="",this.element.style.perspective="",this}transformPoint(e,t,s){let i="";return void 0!==e&&(i+="number"==typeof e?e+"px":e),void 0!==t&&(i+="number"==typeof t?" "+t+"px":" "+t),void 0!==s&&(i+="number"==typeof s?" "+s+"px":" "+s),this.element.style.transformOrigin=i,this}tween(e,t,s,i,n){"number"!=typeof i&&(n=i,i=0);let o=null;"undefined"!=typeof Promise&&(o=Promise.create(),n&&o.then(n),n=o.resolve);const r=new CSSTransition(this,e,t,s,i,n);return o||r}clearTransform(){return"number"==typeof this.x&&(this.x=0),"number"==typeof this.y&&(this.y=0),"number"==typeof this.z&&(this.z=0),"number"==typeof this.scale&&(this.scale=1),"number"==typeof this.scaleX&&(this.scaleX=1),"number"==typeof this.scaleY&&(this.scaleY=1),"number"==typeof this.rotation&&(this.rotation=0),"number"==typeof this.rotationX&&(this.rotationX=0),"number"==typeof this.rotationY&&(this.rotationY=0),"number"==typeof this.rotationZ&&(this.rotationZ=0),"number"==typeof this.skewX&&(this.skewX=0),"number"==typeof this.skewY&&(this.skewY=0),this.element.style.transform="",this}clearTween(){return this.cssTween&&this.cssTween.stop(),this.mathTween&&this.mathTween.stop(),this}attr(e,t){if("object"!=typeof e)return void 0===t?this.element.getAttribute(e):(""===t?this.element.removeAttribute(e):this.element.setAttribute(e,t),this);for(let t in e){const s=e[t];"string"!=typeof s&&"number"!=typeof s||this.element.setAttribute(t,s)}return this}convertTouchEvent(e){const t={x:0,y:0};return e?(e.touches||e.changedTouches?e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.changedTouches[0].pageX,t.y=e.changedTouches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t):t}click(e){return this.element.addEventListener("click",t=>{if(!this.element)return!1;t.object="hit"===this.element.className?this.parent:this,t.action="click",e&&e(t)},!0),this.element.style.cursor="pointer",this}hover(e){const t=t=>{if(!this.element)return!1;t.object="hit"===this.element.className?this.parent:this,t.action="mouseout"===t.type?"out":"over",e&&e(t)};return this.element.addEventListener("mouseover",t,!0),this.element.addEventListener("mouseout",t,!0),this}bind(e,t){"touchstart"!==e||Device.mobile?"touchmove"!==e||Device.mobile?"touchend"!==e||Device.mobile||(e="mouseup"):e="mousemove":e="mousedown",this.events["bind_"+e]||(this.events["bind_"+e]=[]);const s=this.events["bind_"+e];s.push({target:this.element,callback:t});const i=e=>{const t=this.convertTouchEvent(e);e instanceof MouseEvent||(e.x=t.x,e.y=t.y),s.forEach(t=>{t.target===e.currentTarget&&t.callback(e)})};return this.events["fn_"+e]||(this.events["fn_"+e]=i,this.element.addEventListener(e,i,!0)),this}unbind(e,t){"touchstart"!==e||Device.mobile?"touchmove"!==e||Device.mobile?"touchend"!==e||Device.mobile||(e="mouseup"):e="mousemove":e="mousedown";const s=this.events["bind_"+e];return s?(s.forEach((e,i)=>{e.callback===t&&s.splice(i,1)}),this.events["fn_"+e]&&!s.length&&(this.element.removeEventListener(e,this.events["fn_"+e],!0),this.events["fn_"+e]=null),this):this}interact(e,t){return this.hit=this.create(".hit"),this.hit.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:99999}),Device.mobile?this.hit.touchClick(e,t):this.hit.hover(e).click(t),this}touchClick(e,t){const s={};let i,n,o;const r=e=>{const t=this.convertTouchEvent(e);e.touchX=t.x,e.touchY=t.y,s.x=e.touchX,s.y=e.touchY};return this.element.addEventListener("touchmove",e=>{if(!this.element)return!1;o=this.convertTouchEvent(e),n=((e,t)=>{const s=t.x-e.x,i=t.y-e.y;return Math.sqrt(s*s+i*i)})(s,o)>5},{passive:!0}),this.element.addEventListener("touchstart",t=>{if(!this.element)return!1;i=performance.now(),t.object="hit"===this.element.className?this.parent:this,t.action="over",r(t),e&&!n&&e(t)},{passive:!0}),this.element.addEventListener("touchend",s=>{if(!this.element)return!1;const o=performance.now();s.object="hit"===this.element.className?this.parent:this,r(s),i&&o-i<750&&t&&!n&&(s.action="click",t(s)),e&&(s.action="out",e(s)),n=!1},{passive:!0}),this}touchSwipe(e,t=75){const s={};let i,n,o=!1;const r=e=>{const t=this.convertTouchEvent(e);1===e.touches.length&&(i=t.x,n=t.y,o=!0,this.element.addEventListener("touchmove",a,{passive:!0}))},a=r=>{if(o){const o=this.convertTouchEvent(r),a=i-o.x,h=n-o.y;s.direction=null,s.moving=null,s.x=null,s.y=null,s.evt=r,Math.abs(a)>=t?(c(),s.direction=a>0?"left":"right"):Math.abs(h)>=t?(c(),s.direction=h>0?"up":"down"):(s.moving=!0,s.x=a,s.y=h),e&&e(s,r)}},c=()=>{i=n=o=!1,this.element.removeEventListener("touchmove",a)};return Device.mobile&&(this.element.addEventListener("touchstart",r,{passive:!0}),this.element.addEventListener("touchend",c,{passive:!0}),this.element.addEventListener("touchcancel",c,{passive:!0})),this}overflowScroll(e){const t=!!e.x,s=!!e.y,i={};(!t&&!s||t&&s)&&(i.overflow="scroll"),!t&&s&&(i.overflowY="scroll",i.overflowX="hidden"),t&&!s&&(i.overflowX="scroll",i.overflowY="hidden"),Device.mobile&&(i["-webkit-overflow-scrolling"]="touch",this.element.scrollParent=!0,this.element.preventEvent=(e=>e.stopPropagation()),this.bind("touchmove",this.element.preventEvent)),this.css(i)}removeOverflowScroll(){this.css({overflow:"hidden",overflowX:"",overflowY:"","-webkit-overflow-scrolling":""}),Device.mobile&&this.unbind("touchmove",this.element.preventEvent)}split(e=""){const t={position:"relative",display:"inline-block",width:"auto",height:"auto",margin:0,padding:0},s=[],i=this.text().split(e);this.empty()," "===e&&(e="&nbsp;");for(let n=0;n<i.length;n++)" "===i[n]&&(i[n]="&nbsp;"),s.push(this.create(".t","span").html(i[n]).css(t)),""!==e&&n<i.length-1&&s.push(this.create(".t","span").html(e).css(t));return s}}const Stage=new class extends Interface{constructor(){super("Stage");const e=this;let t;function s(){"focus"!==t&&(t="focus",Events.emitter.fire(Events.VISIBILITY,{type:"focus"}))}function i(){"blur"!==t&&(t="blur",Events.emitter.fire(Events.VISIBILITY,{type:"blur"}))}function n(e){Events.emitter.fire(Events.KEYBOARD_DOWN,e)}function o(e){Events.emitter.fire(Events.KEYBOARD_UP,e)}function r(e){Events.emitter.fire(Events.KEYBOARD_PRESS,e)}function a(t){e.size(),e.orientation=window.innerWidth>window.innerHeight?"landscape":"portrait",Events.emitter.fire(Events.RESIZE,t)}function c(e){let t=e.target;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName||"SELECT"===t.nodeName||"A"===t.nodeName)return;let s=!0;for(;t.parentNode&&s;)t.scrollParent&&(s=!1),t=t.parentNode;s&&e.preventDefault()}e.css({overflow:"hidden"}),function(){window.addEventListener("focus",s),window.addEventListener("blur",i),window.addEventListener("keydown",n),window.addEventListener("keyup",o),window.addEventListener("keypress",r),window.addEventListener("resize",a),window.addEventListener("orientationchange",a),Device.mobile&&window.addEventListener("touchstart",c,{passive:!1});a()}(),this.allowScroll=(()=>{Device.mobile&&window.removeEventListener("touchstart",c,{passive:!1})}),this.destroy=(()=>(this.Accelerometer&&this.Accelerometer.active&&this.Accelerometer.stop(),this.Mouse&&this.Mouse.active&&this.Mouse.stop(),this.WebAudio&&this.WebAudio.active&&this.WebAudio.stop(),window.removeEventListener("focus",s),window.removeEventListener("blur",i),window.removeEventListener("keydown",n),window.removeEventListener("keyup",o),window.removeEventListener("keypress",r),window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a),Device.mobile&&window.removeEventListener("touchstart",c,{passive:!1}),super.destroy()))}};class AssetLoader extends Component{constructor(e,t){Array.isArray(e)&&(e=e.map(e=>Utils.basename(e)).reduce((t,s,i)=>(t[s]=e[i],t),{})),super();const s=this;let i=Object.keys(e).length,n=0;for(let t in e)o(t,e[t]);function o(e,t){const s=Utils.extension(t);if(!s.includes(["jpg","jpeg","png","gif","svg"]))return s.includes(["mp3","m4a","ogg","wav","aif"])?window.AudioContext&&Stage.WebAudio?void Stage.WebAudio.createSound(e,t,r):r():void window.get(Assets.getPath(t),Assets.OPTIONS).then(t=>{"json"===s&&Assets.storeData(e,t),"js"===s&&window.eval(t.replace("use strict","")),r()}).catch(()=>{r()});Assets.createImage(t,r)}function r(){s.percent=++n/i,s.events.fire(Events.PROGRESS,{percent:s.percent},!0),n===i&&(s.events.fire(Events.COMPLETE,null,!0),t&&t())}this.add=((e=1)=>{i+=e}),this.trigger=((e=1)=>{for(let t=0;t<e;t++)r()})}static loadAssets(e,t){const s=Promise.create();return t||(t=s.resolve),s.loader=new AssetLoader(e,t),s}}class FontLoader extends Component{constructor(e,t){e=e.map(e=>"object"!=typeof e?{style:"normal",variant:"normal",weight:"normal",font:e.replace(/"/g,"'")}:e),super();const s=this;let i;i=document.createElement("canvas").getContext("2d"),e.forEach(e=>(function({style:e="normal",variant:t="normal",weight:s="normal",font:n}){i.font=`${e} ${t} ${s} 12px "${n}"`,i.fillText("LOAD",0,0)})(e)),function(){const e=()=>{s.percent=1,s.events.fire(Events.PROGRESS,{percent:s.percent},!0),s.events.fire(Events.COMPLETE,null,!0),t&&t()};document.fonts&&document.fonts.ready?document.fonts.ready.then(e):s.delayedCall(e,500)}()}static loadFonts(e,t){const s=Promise.create();return t||(t=s.resolve),s.loader=new FontLoader(e,t),s}}window.AudioContext||(window.AudioContext=window.webkitAudioContext||window.mozAudioContext||window.oAudioContext);class Video extends Component{constructor(e){Video.initialized||(Video.PLAY="video_play",Video.PAUSE="video_pause",Video.ENDED="video_ended",Video.PLAYING="video_playing",Video.PROGRESS="video_progress",Video.WAITING="video_waiting",Video.UPDATE="video_update",Video.initialized=!0),super();const t=this,s=Promise.create(),i=Promise.create();let n,o,r,a,c=!0;function h(){return r=!0,s}async function l(){return r=!1,await s,c&&(c=!1,o.currentTime=e.currentTime),o.play()}function u(e){r?r=!1:t.events.fire(Video.PLAY,e,!0)}function d(e){t.events.fire(Video.PAUSE,e,!0)}function m(e){t.events.fire(Video.ENDED,e,!0)}function p(e){t.events.fire(Video.PLAYING,e,!0)}function f(e){t.events.fire(Video.PROGRESS,e,!0)}function v(e){t.events.fire(Video.WAITING,e,!0)}function g(e){t.events.fire(Video.UPDATE,e,!0)}function w(){o.readyState>=2&&s.resolve(),o.readyState>=4&&i.resolve()}this.playing=!1,e=Object.assign({preload:!1,autoplay:!1,muted:!0,loop:!1,inline:!0,controls:!1,currentTime:0,playback:1,width:640,height:360,events:[]},e),function(){(o=document.createElement("video")).src=Assets.getPath(e.src),o.crossorigin="anonymous",o.preload=e.preload,o.autoplay=e.autoplay,o.muted=e.autoplay||e.muted,o.loop=e.loop,o.playsinline=e.inline,o.controls=e.controls,o.width=e.width,o.height=e.height,o.defaultMuted=e.muted,o.defaultPlaybackRate=e.playback,t.element=o,n=new Interface(o),t.object=n,t.width=e.width,t.height=e.height,e.preload&&h();e.autoplay&&l()}(),a={play:u,pause:d,ended:m,playing:p,progress:f,waiting:v,timeupdate:g,loadeddata:w},e.events.push("loadeddata"),e.events.forEach(e=>o.addEventListener(e,a[e],!0)),this.load=(async()=>await h()),this.play=(async()=>{const e=await l();return this.playing=!0,e}),this.pause=(()=>{this.playing=!1,o.pause()}),this.stop=(()=>{o.pause(),this.seek(0)}),this.seek=(e=>{o.fastSeek?o.fastSeek(e):o.currentTime=e}),this.seekExact=(e=>{o.currentTime=e}),this.volume=(e=>{o.volume=e,o.muted&&(o.muted=!1)}),this.mute=(()=>{o.muted=!0}),this.unmute=(()=>{o.muted=!1}),this.ready=(()=>s),this.loaded=(()=>i),this.size=((e,t)=>{o.width=this.width=e,o.height=this.height=t}),this.destroy=(()=>(e.events.forEach(e=>o.removeEventListener(e,a[e],!0)),this.stop(),o.src="",n.destroy(),super.destroy()))}}class BackgroundVideo extends Interface{constructor(e){BackgroundVideo.initialized||(BackgroundVideo.test=BackgroundVideo.test||!Device.mobile,BackgroundVideo.initialized=!0),super(".BackgroundVideo");const t=this;let s,i,n,o=0;function r(){o++<10||(t.events.remove(n,Video.UPDATE,r),i.tween({opacity:e.opacity||1},500,"easeOutSine",()=>{e.opacity||i.clearOpacity()}))}this.fade=!1!==e.fade,t.size("100%").mouseEnabled(!1),(s=t.create(".cover")).size("100%").bg(e.img||"#000","cover"),BackgroundVideo.test&&(!function(){(i=t.create(".wrapper")).size("100%"),t.fade&&i.css({opacity:0});(n=i.initClass(Video,{src:e.src,loop:!1!==e.loop,events:["timeupdate","ended"],width:e.width,height:e.height,preload:!0})).object.css({position:"absolute"}),t.video=n}(),this.fade&&t.events.add(n,Video.UPDATE,r)),this.play=(async()=>{if(n)return await n.play()}),this.pause=(()=>{n&&n.pause()}),this.size=((t,i)=>{n&&(n.height=i,n.width=n.height*(e.width/e.height),n.width<t&&(n.width=t,n.height=n.width*(e.height/e.width)),s.size(n.width,n.height).center(),n.object.size(n.width,n.height).center())})}}navigator.getUserMedia||(navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),BackgroundVideo.test=!0,Assets.CORS="anonymous",Assets.OPTIONS={mode:"cors"};class Copy extends Interface{constructor(e,t=14,s="white"){super(".Copy");const i=this;let n;i.css({position:"relative",width:"80%",height:"auto",maxWidth:510,margin:"20px auto 100px",paddingBottom:20}),(n=i.create(".text")).fontStyle("Roboto",t,s),n.css({position:"relative",fontWeight:"400",lineHeight:"1.7",textAlign:"left"}),n.html(e),this.update=(e=>{n.html(e)})}}class Headline extends Interface{constructor(e,t=14,s="white"){super(".Headline");const i=this;let n;i.css({position:"relative",width:"80%",height:"auto",marginLeft:"auto",marginRight:"auto",paddingBottom:10}),(n=i.create(".text")).fontStyle("Karla",t,s),n.css({position:"relative",fontWeight:"400",lineHeight:"1.1",textAlign:"center"}),n.html(e),this.update=(e=>{n.html(e)})}}class Title extends Interface{constructor(e,t=66,s="white"){super(".Title");const i=this;let n;i.css({position:"relative",width:"100%",height:"auto",marginTop:50,marginLeft:"auto",marginRight:"auto",paddingBottom:27}),(n=i.create(".text")).fontStyle("Oswald",t,s),n.css({position:"relative",fontWeight:"200",lineHeight:"1.1",textAlign:"center"}),n.html(e),this.update=(e=>{n.html(e)})}}class ProjectVideo extends Interface{constructor(e){super(".Video");const t=this;let s;t.css({position:"relative",display:"block",marginBottom:20}),(s=t.initClass(BackgroundVideo,{src:`assets/videos/${e.id}.mp4`,img:`assets/videos/${e.id}.jpg`,width:960,height:540})).play(),t.interact(null,()=>{s.video.seek(0),s.video.play()}),this.resize=(()=>{let e,t;Device.mobile&&document.documentElement.offsetWidth>document.documentElement.offsetHeight?(e=.7*Projects.WIDTH,t=.7*Projects.WIDTH*.5625,this.size(e,t).center(1,0)):(e=Projects.WIDTH,t=.5625*Projects.WIDTH,this.size(e,t).css({left:"",top:"",marginLeft:"",marginTop:""})),s.size(e,t)})}}class ProjectLayout extends Interface{constructor(e){super(".ProjectLayout");const t=this;let s;t.css({position:"relative",width:"100%",height:"auto",paddingBottom:120}),s=t.initClass(ProjectVideo,e),t.initClass(Title,e.title),t.initClass(Headline,e.headline),t.initClass(Copy,e.text),this.resize=(()=>{s.resize()})}}class TitleLayout extends Interface{constructor(e=Config.DATA){super("TitleLayout");const t=this;t.css({position:"relative",width:"100%",height:"auto",marginTop:Device.mobile?100:180,marginBottom:90}),t.initClass(Title,e.title,90),t.initClass(Copy,e.text).css({marginTop:0,marginBottom:0,paddingTop:20,paddingBottom:55})}}class Projects extends Interface{constructor(){super("Projects");const e=this,t=[];function s(){document.documentElement.offsetWidth>850?(Projects.WIDTH=.75*document.documentElement.offsetWidth,e.size(Projects.WIDTH,"auto").center(1,0)):(Projects.WIDTH=document.documentElement.offsetWidth,e.size("100%").css({left:"",top:"",marginLeft:"",marginTop:""})),t.forEach(e=>e.resize())}e.size(.75*document.documentElement.offsetWidth,"auto").center(1,0),e.initClass(TitleLayout),Config.DATA.projects.forEach(s=>{const i=e.initClass(ProjectLayout,s);t.push(i)}),e.events.add(Events.RESIZE,s),s()}}class Container extends Interface{static instance(){return this.singleton||(this.singleton=new Container),this.singleton}constructor(){super("Container");const e=this;Stage.allowScroll(),Stage.css({position:"",overflow:"",opacity:0}),e.size("100%","auto"),Stage.add(e),e.initClass(Projects),Stage.tween({opacity:1},1500,"easeInOutSine",()=>{Stage.clearOpacity()})}}class Main{constructor(){Promise.all([FontLoader.loadFonts([{font:"Roboto",style:"normal",weight:"400"},{font:"Oswald",style:"normal",weight:"200"},{font:"Karla",style:"normal",weight:"400"}]),AssetLoader.loadAssets([`assets/data/data.json?${Utils.timestamp()}`])]).then(()=>{Config.DATA=Assets.getData("data"),Container.instance()})}}new Main;
