//   _  /._  _  r9.directional_warp2 2018-01-31 5:34pm
//  /_|///_'/ /
var _get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}"undefined"!=typeof Promise&&(Promise.create=function(){var e=void 0,t=void 0,n=new Promise(function(n,i){e=n,t=i});return n.resolve=e,n.reject=t,n}),Math.sign=function(e){return 0===(e=+e)||isNaN(e)?Number(e):e>0?1:-1},Math.degrees=function(e){return e*(180/Math.PI)},Math.radians=function(e){return e*(Math.PI/180)},Math.clamp=function(e,t,n){return Math.min(Math.max(e,Math.min(t,n)),Math.max(t,n))},Math.range=function(e,t,n,i,r,s){var a=(e-t)*(r-i)/(n-t)+i;return s?Math.clamp(a,i,r):a},Math.mix=function(e,t,n){return e*(1-n)+t*n},Math.step=function(e,t){return t<e?0:1},Math.smoothStep=function(e,t,n){var i=Math.max(0,Math.min(1,(n-e)/(t-e)));return i*i*(3-2*i)},Math.fract=function(e){return e-Math.floor(e)},Math.mod=function(e,t){return(e%t+t)%t},Array.prototype.remove=function(e){var t=this.indexOf(e);if(~t)return this.splice(t,1)},Array.prototype.last=function(){return this[this.length-1]},String.prototype.includes=function(e){if(!Array.isArray(e))return~this.indexOf(e);for(var t=0;t<e.length;t++)if(~this.indexOf(e[t]))return!0;return!1},String.prototype.clip=function(e,t){return this.length>e?this.slice(0,e)+t:this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},window.fetch||(window.fetch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Promise.create(),i=new XMLHttpRequest;for(var r in i.open(t.method||"GET",e),t.headers)i.setRequestHeader(r,t.headers[r]);function s(){var e=[],t=[],n={},r=void 0;return i.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(i,s,a){e.push(s=s.toLowerCase()),t.push([s,a]),r=n[s],n[s]=r?r+","+a:a}),{ok:1==(i.status/200|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:s,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},xml:function(){return Promise.resolve(i.responseXML)},blob:function(){return Promise.resolve(new Blob([i.response]))},arrayBuffer:function(){return Promise.resolve(new ArrayBuffer([i.response]))},headers:{keys:function(){return e},entries:function(){return t},get:function(e){return n[e.toLowerCase()]},has:function(e){return e.toLowerCase()in n}}}}return i.onload=function(){return n.resolve(s())},i.onerror=n.reject,i.send(t.body),n}),window.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Promise.create();return t.method="GET",window.fetch(e,t).then(function(e){if(!e.ok)return n.reject(e);e.text().then(function(e){if(e.charAt(0).includes(["[","{"]))try{n.resolve(JSON.parse(e))}catch(t){n.resolve(e)}else n.resolve(e)})}).catch(n.reject),n},window.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Promise.create();return n.method="POST",n.body=JSON.stringify(t),window.fetch(e,n).then(function(e){if(!e.ok)return i.reject(e);e.text().then(function(e){if(e.charAt(0).includes(["[","{"]))try{i.resolve(JSON.parse(e))}catch(t){i.resolve(e)}else i.resolve(e)})}).catch(i.reject),i},window.getURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";window.open(e,t)},window.URL||(window.URL=window.webkitURL),window.Config||(window.Config={}),window.Global||(window.Global={});var Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"random",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(void 0===e)return Math.random();if(e===t)return e;e=e||0,t=t||1;var i=Math.pow(10,n);return Math.round((e+Math.random()*(t-e))*i)/i}},{key:"headsTails",value:function(e,t){return this.random(0,1)?t:e}},{key:"queryString",value:function(e){var t=decodeURI(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURI(e).replace(/[.+*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));return!(!t.length||"0"===t||"false"===t)&&t}},{key:"getConstructorName",value:function(e){return e.constructor.name||e.constructor.toString().match(/function ([^(]+)/)[1]}},{key:"nullObject",value:function(e){for(var t in e)void 0!==e[t]&&(e[t]=null);return null}},{key:"cloneObject",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"mergeObject",value:function(){for(var e={},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=!0,s=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var l=o.value;for(var c in l)e[c]=l[c]}}catch(e){s=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw a}}return e}},{key:"toArray",value:function(e){return Object.keys(e).map(function(t){return e[t]})}},{key:"cloneArray",value:function(e){return e.slice(0)}},{key:"basename",value:function(e,t){var n=e.split("/").last();return t?n:n.split(".")[0]}},{key:"extension",value:function(e){return e.split(".").last().split("?")[0].toLowerCase()}},{key:"base64",value:function(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}},{key:"timestamp",value:function(){return(Date.now()+this.random(0,99999)).toString()}},{key:"pad",value:function(e){return e<10?"0"+e:e}}]),e}();window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(){var e=Date.now();return function(t){return setTimeout(function(){return t(Date.now()-e)},1e3/60)}}());var Render=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var e=this,t=this,n=[],i=200,r=performance.now();function s(e){var a=Math.min(i,e-r);r=e,t.TIME=e,t.DELTA=a;for(var o=n.length-1;o>=0;o--){var u=n[o];if(u)if(u.fps){if(e-u.last<1e3/u.fps)continue;u(++u.frame),u.last=e}else u(e,a);else n.remove(u)}t.paused||requestAnimationFrame(s)}requestAnimationFrame(s),this.start=function(e,t){t&&(e.fps=t,e.last=-1/0,e.frame=-1),~n.indexOf(e)||n.unshift(e)},this.stop=function(e){n.remove(e)},this.pause=function(){e.paused=!0},this.resume=function(){e.paused&&(e.paused=!1,requestAnimationFrame(s))}}}]),e}();Render.init();var Timer=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var e=[],t=[];Render.start(function(n,i){for(var r=0;r<t.length;r++){var s=t[r];s.callback=null,e.remove(s)}t.length&&(t.length=0);for(var a=0;a<e.length;a++){var o=e[a];o?(o.current+=i)>=o.time&&(o.callback&&o.callback.apply(o,_toConsumableArray(o.args)),t.push(o)):e.remove(o)}}),this.clearTimeout=function(t){var n=function(t){for(var n=0;n<e.length;n++)if(e[n].ref===t)return e[n];return null}(t);return!!n&&(n.callback=null,e.remove(n),!0)},this.create=function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];var a={time:Math.max(1,n||1),current:0,ref:Utils.timestamp(),callback:t,args:r};return e.push(a),a.ref}}}]),e}();Timer.init();var Events=function e(){var t=this;_classCallCheck(this,e);var n=function(){function e(){_classCallCheck(this,e),this.events=[],this.links=[]}return _createClass(e,[{key:"add",value:function(e,t,n,i){this.events.push({event:e,callback:t,object:n,target:i})}},{key:"remove",value:function(e,t){for(var n=this.events.length-1;n>=0;n--)this.events[n].event===e&&this.events[n].callback===t&&(this.events[n].removed=!0,this.events.splice(n,1)[0]=null)}},{key:"fire",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1,i=0;i<this.events.length;i++)this.events[i].event!==e||this.events[i].removed||(this.events[i].target&&t&&"object"===(void 0===t?"undefined":_typeof(t))&&(t.target=t.target||this.events[i].target),this.events[i].callback(t),n=!0);return n}},{key:"destroy",value:function(e){for(var t=this.events.length-1;t>=0;t--)this.events[t].object===e&&(this.events.splice(t,1)[0]=null)}},{key:"link",value:function(e){~this.links.indexOf(e)||this.links.push(e)}}]),e}();e.initialized||(e.emitter=new n,e.VISIBILITY="visibility",e.KEYBOARD_PRESS="keyboard_press",e.KEYBOARD_DOWN="keyboard_down",e.KEYBOARD_UP="keyboard_up",e.RESIZE="resize",e.COMPLETE="complete",e.PROGRESS="progress",e.UPDATE="update",e.LOADED="loaded",e.ERROR="error",e.READY="ready",e.HOVER="hover",e.CLICK="click",e.initialized=!0),this.emitter=new n;var i=[];this.add=function(n,r,s){if("object"!==(void 0===n?"undefined":_typeof(n))&&(s=r,r=n,n=null),n){var a=n.events.emitter;a.add(r,s,t,n),a.link(t),i.push(a)}else e.emitter.add(r,s,t)},this.remove=function(t,n,i){"object"!==(void 0===t?"undefined":_typeof(t))&&(i=n,n=t,t=null),t?t.events.emitter.remove(n,i):e.emitter.remove(n,i)},this.fire=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];t.emitter.fire(n,i)||r||e.emitter.fire(n,i)},this.destroy=function(){return e.emitter.destroy(t),i.forEach(function(e){return e.destroy(t)}),t.emitter.links.forEach(function(e){return e.unlink(t.emitter)}),Utils.nullObject(t)},this.unlink=function(e){i.remove(e)}},Device=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var e,t,n=this;this.agent=navigator.userAgent.toLowerCase(),this.prefix=(e=window.getComputedStyle(document.documentElement,""),{lowercase:t=(Array.prototype.slice.call(e).join("").match(/-(webkit|moz|ms)-/)||""===e.OLink&&["","o"])[1],js:t[0].toUpperCase()+t.substr(1)}),this.transformProperty=function(){var e=void 0;switch(n.prefix.lowercase){case"webkit":e="-webkit-transform";break;case"moz":e="-moz-transform";break;case"ms":e="-ms-transform";break;case"o":e="-o-transform";break;default:e="transform"}return e}(),this.pixelRatio=window.devicePixelRatio,this.os=n.detect(["iphone","ipad"])?"ios":n.detect(["android"])?"android":n.detect(["blackberry"])?"blackberry":n.detect(["mac os"])?"mac":n.detect(["windows"])?"windows":n.detect(["linux"])?"linux":"unknown",this.browser="ios"===n.os?n.detect(["safari"])?"safari":"unknown":"android"===n.os?n.detect(["chrome"])?"chrome":n.detect(["firefox"])?"firefox":"browser":n.detect(["msie"])?"ie":n.detect(["trident"])&&n.detect(["rv:"])?"ie":n.detect(["windows"])&&n.detect(["edge"])?"ie":n.detect(["chrome"])?"chrome":n.detect(["safari"])?"safari":n.detect(["firefox"])?"firefox":"unknown",this.mobile="ontouchstart"in window&&this.detect(["iphone","ipad","android","blackberry"]),this.tablet=Math.max(screen.width,screen.height)>800,this.phone=!this.tablet,this.webgl=function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}}()}},{key:"detect",value:function(e){return this.agent.includes(e)}},{key:"vendor",value:function(e){return this.prefix.js+e}},{key:"vibrate",value:function(e){navigator.vibrate&&navigator.vibrate(e)}}]),e}();Device.init();var Component=function(){function e(){_classCallCheck(this,e),this.events=new Events,this.classes=[],this.timers=[],this.loops=[]}return _createClass(e,[{key:"initClass",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=new(Function.prototype.bind.apply(e,[null].concat(n)));return this.add(r),r}},{key:"add",value:function(e){return e.destroy&&(this.classes.push(e),e.parent=this),this}},{key:"delayedCall",value:function(e){for(var t=arguments.length,n=Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=Timer.create(function(){e&&e.apply(void 0,n)},r);return this.timers.push(s),this.timers.length>50&&this.timers.shift(),s}},{key:"clearTimers",value:function(){for(var e=this.timers.length-1;e>=0;e--)Timer.clearTimeout(this.timers[e]);this.timers.length=0}},{key:"startRender",value:function(e,t){this.loops.push(e),Render.start(e,t)}},{key:"stopRender",value:function(e){this.loops.remove(e),Render.stop(e)}},{key:"clearRenders",value:function(){for(var e=this.loops.length-1;e>=0;e--)this.stopRender(this.loops[e]);this.loops.length=0}},{key:"destroy",value:function(){this.removed=!0;var e=this.parent;e&&!e.removed&&e.remove&&e.remove(this);for(var t=this.classes.length-1;t>=0;t--){var n=this.classes[t];n&&n.destroy&&n.destroy()}return this.classes.length=0,this.clearRenders(),this.clearTimers(),this.events.destroy(),Utils.nullObject(this)}},{key:"remove",value:function(e){this.classes.remove(e)}}]),e}(),Interpolation=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var t=this;this.convertEase=function(e){return function(){var n=void 0;switch(e){case"easeInQuad":n=t.Quad.In;break;case"easeInCubic":n=t.Cubic.In;break;case"easeInQuart":n=t.Quart.In;break;case"easeInQuint":n=t.Quint.In;break;case"easeInSine":n=t.Sine.In;break;case"easeInExpo":n=t.Expo.In;break;case"easeInCirc":n=t.Circ.In;break;case"easeInElastic":n=t.Elastic.In;break;case"easeInBack":n=t.Back.In;break;case"easeInBounce":n=t.Bounce.In;break;case"easeOutQuad":n=t.Quad.Out;break;case"easeOutCubic":n=t.Cubic.Out;break;case"easeOutQuart":n=t.Quart.Out;break;case"easeOutQuint":n=t.Quint.Out;break;case"easeOutSine":n=t.Sine.Out;break;case"easeOutExpo":n=t.Expo.Out;break;case"easeOutCirc":n=t.Circ.Out;break;case"easeOutElastic":n=t.Elastic.Out;break;case"easeOutBack":n=t.Back.Out;break;case"easeOutBounce":n=t.Bounce.Out;break;case"easeInOutQuad":n=t.Quad.InOut;break;case"easeInOutCubic":n=t.Cubic.InOut;break;case"easeInOutQuart":n=t.Quart.InOut;break;case"easeInOutQuint":n=t.Quint.InOut;break;case"easeInOutSine":n=t.Sine.InOut;break;case"easeInOutExpo":n=t.Expo.InOut;break;case"easeInOutCirc":n=t.Circ.InOut;break;case"easeInOutElastic":n=t.Elastic.InOut;break;case"easeInOutBack":n=t.Back.InOut;break;case"easeInOutBounce":n=t.Bounce.InOut;break;case"linear":n=t.Linear.None}return n}()||t.Cubic.Out},this.Linear={None:function(e){return e}},this.Quad={In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},this.Cubic={In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},this.Quart={In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},this.Quint={In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},this.Sine={In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},this.Expo={In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},this.Circ={In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},this.Elastic={In:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.4,i=void 0;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=n/4):i=n*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/n))},Out:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.4,i=void 0;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=n/4):i=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-i)*(2*Math.PI)/n)+1)},InOut:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.4,i=void 0;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=n/4):i=n*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/n)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/n)*.5+1)}},this.Back={In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},this.Bounce={In:function(t){return 1-e.Bounce.Out(1-t)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(t){return t<.5?.5*e.Bounce.In(2*t):.5*e.Bounce.Out(2*t-1)+.5}}}}]),e}();Interpolation.init();var MathTween=function e(t,n,i,r,s,a,o){var u=this;_classCallCheck(this,e);var l=this,c=void 0,h=void 0,v=void 0,d=void 0,f=void 0,p=void 0,m=void 0;function y(){if(!t&&!n)return!1;t.mathTween=null,TweenManager.removeMathTween(l),Utils.nullObject(l),t.mathTweens&&t.mathTweens.remove(l)}!function(){!t.multiTween&&t.mathTween&&TweenManager.clearTween(t);TweenManager.addMathTween(l),t.mathTween=l,t.multiTween&&(t.mathTweens||(t.mathTweens=[]),t.mathTweens.push(l));r=Interpolation.convertEase(r),c=performance.now(),c+=s,v=n,h={},n.spring&&(f=n.spring);n.damping&&(p=n.damping);for(var e in v)"number"==typeof t[e]&&(h[e]=t[e])}(),this.update=function(e){if(!(d||e<c)){m=(m=(e-c)/i)>1?1:m;var t=u.interpolate(m);a&&a(t),1===m&&(o&&o(),y())}},this.stop=function(){y()},this.pause=function(){d=!0},this.resume=function(){d=!1,c=performance.now()-m*i},this.interpolate=function(e){var n=r(e,f,p);for(var i in h)if("number"==typeof h[i]&&"number"==typeof v[i]){var s=h[i],a=v[i];t[i]=s+(a-s)*n}return n}},TweenManager=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var e=this;this.TRANSFORMS=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ","skewX","skewY","perspective"],this.CSS_EASES={easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",linear:"linear"};var t=[];Render.start(function(n){for(var i=t.length-1;i>=0;i--){var r=t[i];r.update?r.update(n):e.removeMathTween(r)}}),this.addMathTween=function(e){t.push(e)},this.removeMathTween=function(e){t.remove(e)}}},{key:"tween",value:function(e,t,n,i,r,s,a){"number"!=typeof r&&(a=s,s=r,r=0);var o=null;"undefined"!=typeof Promise&&(o=Promise.create(),s&&o.then(s),s=o.resolve);var u=new MathTween(e,t,n,i,r,a,s);return o||u}},{key:"clearTween",value:function(e){if(e.mathTween&&e.mathTween.stop(),e.mathTweens){for(var t=e.mathTweens,n=t.length-1;n>=0;n--){var i=t[n];i&&i.stop()}e.mathTweens=null}}},{key:"parseTransform",value:function(e){var t="";if(void 0!==e.x||void 0!==e.y||void 0!==e.z){var n="";n+=(e.x||0)+"px, ",n+=(e.y||0)+"px, ",t+="translate3d("+(n+=(e.z||0)+"px")+")"}return void 0!==e.scale?t+="scale("+e.scale+")":(void 0!==e.scaleX&&(t+="scaleX("+e.scaleX+")"),void 0!==e.scaleY&&(t+="scaleY("+e.scaleY+")")),void 0!==e.rotation&&(t+="rotate("+e.rotation+"deg)"),void 0!==e.rotationX&&(t+="rotateX("+e.rotationX+"deg)"),void 0!==e.rotationY&&(t+="rotateY("+e.rotationY+"deg)"),void 0!==e.rotationZ&&(t+="rotateZ("+e.rotationZ+"deg)"),void 0!==e.skewX&&(t+="skewX("+e.skewX+"deg)"),void 0!==e.skewY&&(t+="skewY("+e.skewY+"deg)"),void 0!==e.perspective&&(t+="perspective("+e.perspective+"px)"),t}},{key:"isTransform",value:function(e){return~this.TRANSFORMS.indexOf(e)}},{key:"getAllTransforms",value:function(e){for(var t={},n=0;n<this.TRANSFORMS.length;n++){var i=this.TRANSFORMS[n],r=e[i];0!==r&&"number"==typeof r&&(t[i]=r)}return t}},{key:"getEase",value:function(e){return this.CSS_EASES[e]||this.CSS_EASES.easeOutCubic}}]),e}();TweenManager.init();var CSSTransition=function e(t,n,i,r,s,a){_classCallCheck(this,e);var o=this,u=void 0,l=void 0;function c(){return!o||o.kill||!t||!t.element}function h(){c()||(o.kill=!0,t.element.style[Device.vendor("Transition")]="",t.willChange(null),t.cssTween=null,t=n=null,Utils.nullObject(o))}!function(){var e=TweenManager.getAllTransforms(t),i=[];for(var r in n)TweenManager.isTransform(r)?(e.use=!0,e[r]=n[r],delete n[r]):("number"==typeof n[r]||~r.indexOf("-"))&&i.push(r);e.use&&(i.push(Device.transformProperty),delete e.use);u=e,l=i}(),function(){if(c())return;t.cssTween&&(t.cssTween.kill=!0);t.cssTween=o;var e=function(e,t,n){for(var i="",r="",s=0;s<l.length;s++){var a=l[s];i+=(i.length?", ":"")+a,r+=(r.length?", ":"")+a+" "+e+"ms "+TweenManager.getEase(t)+" "+n+"ms"}return{props:i,transition:r}}(i,r,s);t.willChange(e.props),Timer.create(function(){c()||(t.element.style[Device.vendor("Transition")]=e.transition,t.css(n),t.transform(u),Timer.create(function(){c()||(h(),a&&a())},i+s))},35)}(),this.stop=h},Interface=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",i=arguments[2];if(_classCallCheck(this,e),this.events=new Events,this.classes=[],this.timers=[],this.loops=[],void 0!==t){if("string"==typeof t){if(this.name=t,this.type=n,"svg"===n){var r=i||"svg";i=!0,this.element=document.createElementNS("http://www.w3.org/2000/svg",r),this.element.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")}else this.element=document.createElement(n),"."!==t[0]?this.element.id=t:this.element.className=t.substr(1);this.element.style.position="absolute",i||document.body.appendChild(this.element)}else this.element=t;this.element.object=this}}return _createClass(e,[{key:"initClass",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=new(Function.prototype.bind.apply(e,[null].concat(n)));return this.add(r),r}},{key:"add",value:function(e){var t=this.element;return e.element?(t.appendChild(e.element),this.classes.push(e),e.parent=this):e.nodeName&&t.appendChild(e),this}},{key:"delayedCall",value:function(e){for(var t=arguments.length,n=Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=Timer.create(function(){e&&e.apply(void 0,n)},r);return this.timers.push(s),this.timers.length>50&&this.timers.shift(),s}},{key:"clearTimers",value:function(){for(var e=this.timers.length-1;e>=0;e--)Timer.clearTimeout(this.timers[e]);this.timers.length=0}},{key:"startRender",value:function(e,t){this.loops.push(e),Render.start(e,t)}},{key:"stopRender",value:function(e){this.loops.remove(e),Render.stop(e)}},{key:"clearRenders",value:function(){for(var e=this.loops.length-1;e>=0;e--)this.stopRender(this.loops[e]);this.loops.length=0}},{key:"destroy",value:function(){this.removed=!0;var e=this.parent;e&&!e.removed&&e.remove&&e.remove(this);for(var t=this.classes.length-1;t>=0;t--){var n=this.classes[t];n&&n.destroy&&n.destroy()}return this.classes.length=0,this.element.object=null,this.clearRenders(),this.clearTimers(),this.events.destroy(),Utils.nullObject(this)}},{key:"remove",value:function(e){e.element.parentNode&&e.element.parentNode.removeChild(e.element),this.classes.remove(e)}},{key:"create",value:function(t,n){var i=new e(t,n);return this.add(i),i}},{key:"clone",value:function(){return new e(this.element.cloneNode(!0))}},{key:"empty",value:function(){return this.element.innerHTML="",this}},{key:"text",value:function(e){return void 0===e?this.element.textContent:(this.element.textContent=e,this)}},{key:"html",value:function(e){return void 0===e?this.element.innerHTML:(this.element.innerHTML=e,this)}},{key:"hide",value:function(){return this.element.style.display="none",this}},{key:"show",value:function(){return this.element.style.display="",this}},{key:"visible",value:function(){return this.element.style.visibility="visible",this}},{key:"invisible",value:function(){return this.element.style.visibility="hidden",this}},{key:"setZ",value:function(e){return this.element.style.zIndex=e,this}},{key:"clearAlpha",value:function(){return this.element.style.opacity="",this}},{key:"size",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return void 0!==e&&("string"==typeof e||"string"==typeof t?("string"!=typeof e&&(e+="px"),"string"!=typeof t&&(t+="px"),this.element.style.width=e,this.element.style.height=t):(this.element.style.width=e+"px",this.element.style.height=t+"px",this.element.style.backgroundSize=e+"px "+t+"px")),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this}},{key:"mouseEnabled",value:function(e){return this.element.style.pointerEvents=e?"auto":"none",this}},{key:"fontStyle",value:function(e,t,n,i){return this.css({fontFamily:e,fontSize:t,color:n,fontStyle:i}),this}},{key:"bg",value:function(e,t,n,i){return e.includes(["data:","."])?this.element.style.backgroundImage="url("+e+")":this.element.style.backgroundColor=e,void 0!==t&&(t="number"==typeof t?t+"px":t,n="number"==typeof n?n+"px":n,this.element.style.backgroundPosition=t+" "+n),i&&(this.element.style.backgroundSize="",this.element.style.backgroundRepeat=i),"cover"!==t&&"contain"!==t||(this.element.style.backgroundSize=t,this.element.style.backgroundRepeat="no-repeat",this.element.style.backgroundPosition=void 0!==n?n+" "+i:"center"),this}},{key:"center",value:function(e,t,n){var i={};return void 0===e?(i.left="50%",i.top="50%",i.marginLeft=-this.width/2,i.marginTop=-this.height/2):(e&&(i.left="50%",i.marginLeft=-this.width/2),t&&(i.top="50%",i.marginTop=-this.height/2)),n&&(delete i.left,delete i.top),this.css(i),this}},{key:"mask",value:function(e){return this.element.style[Device.vendor("Mask")]=(~e.indexOf(".")?"url("+e+")":e)+" no-repeat",this.element.style[Device.vendor("MaskSize")]="contain",this}},{key:"blendMode",value:function(e,t){return this.element.style[t?"background-blend-mode":"mix-blend-mode"]=e,this}},{key:"css",value:function(e,t){if("object"!==(void 0===e?"undefined":_typeof(e))){if(t)return this.element.style[e]=t,this;var n=this.element.style[e];return"number"!=typeof n&&(~n.indexOf("px")&&(n=Number(n.slice(0,-2))),"opacity"===e&&(n=isNaN(Number(this.element.style.opacity))?1:Number(this.element.style.opacity))),n||0}for(var i in e){var r=e[i];"string"!=typeof r&&"number"!=typeof r||("string"!=typeof r&&"opacity"!==i&&"zIndex"!==i&&(r+="px"),this.element.style[i]=r)}return this}},{key:"transform",value:function(e){if(e)for(var t in e)"number"==typeof e[t]&&(this[t]=e[t]);else e=this;return this.element.style[Device.vendor("Transform")]=TweenManager.parseTransform(e),this}},{key:"willChange",value:function(e){var t="string"==typeof e;this.element.style["will-change"]=e?t?e:Device.transformProperty+", opacity":""}},{key:"backfaceVisibility",value:function(e){this.element.style[Device.vendor("BackfaceVisibility")]=e?"visible":"hidden"}},{key:"enable3D",value:function(e,t,n){return this.element.style[Device.vendor("TransformStyle")]="preserve-3d",e&&(this.element.style[Device.vendor("Perspective")]=e+"px"),void 0!==t&&(t="number"==typeof t?t+"px":t,n="number"==typeof n?n+"px":n,this.element.style[Device.vendor("PerspectiveOrigin")]=t+" "+n),this}},{key:"disable3D",value:function(){return this.element.style[Device.vendor("TransformStyle")]="",this.element.style[Device.vendor("Perspective")]="",this}},{key:"transformPoint",value:function(e,t,n){var i="";return void 0!==e&&(i+="number"==typeof e?e+"px":e),void 0!==t&&(i+="number"==typeof t?" "+t+"px":" "+t),void 0!==n&&(i+="number"==typeof n?" "+n+"px":" "+n),this.element.style[Device.vendor("TransformOrigin")]=i,this}},{key:"tween",value:function(e,t,n,i,r){"number"!=typeof i&&(r=i,i=0);var s=null;"undefined"!=typeof Promise&&(s=Promise.create(),r&&s.then(r),r=s.resolve);var a=new CSSTransition(this,e,t,n,i,r);return s||a}},{key:"clearTransform",value:function(){return"number"==typeof this.x&&(this.x=0),"number"==typeof this.y&&(this.y=0),"number"==typeof this.z&&(this.z=0),"number"==typeof this.scale&&(this.scale=1),"number"==typeof this.scaleX&&(this.scaleX=1),"number"==typeof this.scaleY&&(this.scaleY=1),"number"==typeof this.rotation&&(this.rotation=0),"number"==typeof this.rotationX&&(this.rotationX=0),"number"==typeof this.rotationY&&(this.rotationY=0),"number"==typeof this.rotationZ&&(this.rotationZ=0),"number"==typeof this.skewX&&(this.skewX=0),"number"==typeof this.skewY&&(this.skewY=0),this.element.style[Device.transformProperty]="",this}},{key:"clearTween",value:function(){return this.cssTween&&this.cssTween.stop(),this.mathTween&&this.mathTween.stop(),this}},{key:"attr",value:function(e,t){return void 0===t?this.element.getAttribute(e):(""===t?this.element.removeAttribute(e):this.element.setAttribute(e,t),this)}},{key:"convertTouchEvent",value:function(e){var t={x:0,y:0};return e?(e.touches||e.changedTouches?e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.changedTouches[0].pageX,t.y=e.changedTouches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t):t}},{key:"click",value:function(e){var t=this,n=function(n){if(!t.element)return!1;n.object="hit"===t.element.className?t.parent:t,n.action="click",e&&e(n)};return this.element.addEventListener("click",n,!0),this.element.style.cursor="pointer",this}},{key:"hover",value:function(e){var t=this,n=function(n){if(!t.element)return!1;n.object="hit"===t.element.className?t.parent:t,n.action="mouseout"===n.type?"out":"over",e&&e(n)};return this.element.addEventListener("mouseover",n,!0),this.element.addEventListener("mouseout",n,!0),this}},{key:"press",value:function(e){var t=this,n=function(n){if(!t.element)return!1;n.object="hit"===t.element.className?t.parent:t,n.action="mousedown"===n.type?"down":"up",e&&e(n)};return this.element.addEventListener("mousedown",n,!0),this.element.addEventListener("mouseup",n,!0),this}},{key:"bind",value:function(e,t){var n=this;"touchstart"!==e||Device.mobile?"touchmove"!==e||Device.mobile?"touchend"!==e||Device.mobile||(e="mouseup"):e="mousemove":e="mousedown",this.events["bind_"+e]||(this.events["bind_"+e]=[]);var i=this.events["bind_"+e];i.push({target:this.element,callback:t});var r=function(e){var t=n.convertTouchEvent(e);e instanceof MouseEvent||(e.x=t.x,e.y=t.y),i.forEach(function(t){t.target===e.currentTarget&&t.callback(e)})};return this.events["fn_"+e]||(this.events["fn_"+e]=r,this.element.addEventListener(e,r,!0)),this}},{key:"unbind",value:function(e,t){"touchstart"!==e||Device.mobile?"touchmove"!==e||Device.mobile?"touchend"!==e||Device.mobile||(e="mouseup"):e="mousemove":e="mousedown";var n=this.events["bind_"+e];return n?(n.forEach(function(e,i){e.callback===t&&n.splice(i,1)}),this.events["fn_"+e]&&!n.length&&(this.element.removeEventListener(e,this.events["fn_"+e],!0),this.events["fn_"+e]=null),this):this}},{key:"interact",value:function(e,t){return this.hit=this.create(".hit"),this.hit.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:99999}),Device.mobile?this.hit.touchClick(e,t):this.hit.hover(e).click(t),this}},{key:"touchClick",value:function(e,t){var n=this,i={},r=void 0,s=void 0,a=void 0,o=function(e){var t=n.convertTouchEvent(e);e.touchX=t.x,e.touchY=t.y,i.x=e.touchX,i.y=e.touchY};return this.element.addEventListener("touchmove",function(e){if(!n.element)return!1;var t,r,o,u;a=n.convertTouchEvent(e),t=i,o=(r=a).x-t.x,u=r.y-t.y,s=Math.sqrt(o*o+u*u)>5},{passive:!0}),this.element.addEventListener("touchstart",function(t){if(!n.element)return!1;r=performance.now(),t.object="hit"===n.element.className?n.parent:n,t.action="over",o(t),e&&!s&&e(t)},{passive:!0}),this.element.addEventListener("touchend",function(i){if(!n.element)return!1;var a=performance.now();i.object="hit"===n.element.className?n.parent:n,o(i),r&&a-r<750&&t&&!s&&(i.action="click",t(i)),e&&(i.action="out",e(i)),s=!1},{passive:!0}),this}},{key:"split",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={position:"relative",display:"block",width:"auto",height:"auto",margin:0,padding:0,cssFloat:"left"},n=[],i=this.text().split(e);this.empty()," "===e&&(e="&nbsp;");for(var r=0;r<i.length;r++)" "===i[r]&&(i[r]="&nbsp;"),n.push(this.create(".t","span").html(i[r]).css(t)),""!==e&&r<i.length-1&&n.push(this.create(".t","span").html(e).css(t));return n}}]),e}(),Stage=new Interface("Stage");Stage.css({overflow:"hidden"}),window.addEventListener("load",function(){var e=void 0;function t(){Stage.size(),Stage.orientation=window.innerWidth>window.innerHeight?"landscape":"portrait",Events.emitter.fire(Events.RESIZE)}window.addEventListener("focus",function(){"focus"!==e&&(e="focus",Events.emitter.fire(Events.VISIBILITY,{type:"focus"}))},!0),window.addEventListener("blur",function(){"blur"!==e&&(e="blur",Events.emitter.fire(Events.VISIBILITY,{type:"blur"}))},!0),window.addEventListener("keydown",function(e){return Events.emitter.fire(Events.KEYBOARD_DOWN,e)},!0),window.addEventListener("keyup",function(e){return Events.emitter.fire(Events.KEYBOARD_UP,e)},!0),window.addEventListener("keypress",function(e){return Events.emitter.fire(Events.KEYBOARD_PRESS,e)},!0),window.addEventListener("resize",t,!0),window.addEventListener("orientationchange",t,!0),t()},!0);var Vector2=function(){function e(t,n){_classCallCheck(this,e),this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.type="vector2"}return _createClass(e,[{key:"set",value:function(e,t){return this.x=e||0,this.y=t||0,this}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"copyTo",value:function(e){return e.x=this.x,e.y=this.y,this}},{key:"copyFrom",value:function(e){return this.x=e.x||0,this.y=e.y||0,this}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y||1e-5}},{key:"length",value:function(){return Math.sqrt(this.lengthSq())}},{key:"normalize",value:function(){var e=this.length();return this.x/=e,this.y/=e,this}},{key:"setLength",value:function(e){return this.normalize().multiply(e),this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"multiply",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e,this.y/=e,this}},{key:"perpendicular",value:function(){var e=this.x,t=this.y;return this.x=-t,this.y=e,this}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"deltaLerp",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=0;i<n;i++)this.lerp(e,t);return this}},{key:"interp",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;this.calc||(this.calc=new e),this.calc.subVectors(this,t);var s=Interpolation.convertEase(i)(Math.clamp(Math.range(this.calc.lengthSq(),0,r*r,1,0),0,1)*(n/10));return this.lerp(t,s)}},{key:"setAngleRadius",value:function(e,t){return this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this}},{key:"addAngleRadius",value:function(e,t){return this.x+=Math.cos(e)*t,this.y+=Math.sin(e)*t,this}},{key:"dot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return e.x*t.x+e.y*t.y}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"distanceTo",value:function(e,t){var n=this.x-e.x,i=this.y-e.y;return t?n*n+i*i:Math.sqrt(n*n+i*i)}},{key:"solveAngle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return Math.atan2(e.y-t.y,e.x-t.x)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";return this.x+e+this.y}}]),e}(),Interaction=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Stage;if(_classCallCheck(this,e),!e.initialized){e.CLICK="interaction_click",e.START="interaction_start",e.MOVE="interaction_move",e.DRAG="interaction_drag",e.END="interaction_end";var i={touchstart:[],touchmove:[],touchend:[]},r=function(e){return i.touchend.forEach(function(t){return t(e)})};e.bind=function(e,t){return i[e].push(t)},e.unbind=function(e,t){return i[e].remove(t)},Stage.bind("touchstart",function(e){return i.touchstart.forEach(function(t){return t(e)})}),Stage.bind("touchmove",function(e){return i.touchmove.forEach(function(t){return t(e)})}),Stage.bind("touchend",r),Stage.bind("touchcancel",r),e.initialized=!0}var s=this;this.events=new Events,this.x=0,this.y=0,this.hold=new Vector2,this.last=new Vector2,this.delta=new Vector2,this.move=new Vector2,this.velocity=new Vector2;var a=void 0,o=void 0,u=void 0;function l(t){t.preventDefault(),s.isTouching=!0,s.x=t.x,s.y=t.y,s.hold.x=s.last.x=t.x,s.hold.y=s.last.y=t.y,s.delta.x=s.move.x=s.velocity.x=0,s.delta.y=s.move.y=s.velocity.y=0,a=0,s.events.fire(e.START,t,!0),o=u=Render.TIME}function c(t){s.isTouching&&(s.move.x=t.x-s.hold.x,s.move.y=t.y-s.hold.y),s.x=t.x,s.y=t.y,s.delta.x=t.x-s.last.x,s.delta.y=t.y-s.last.y,s.last.x=t.x,s.last.y=t.y,a+=s.delta.length();var n=Math.max(.001,Render.TIME-(u||Render.TIME));u=Render.TIME,s.velocity.x=Math.abs(s.delta.x)/n,s.velocity.y=Math.abs(s.delta.y)/n,s.events.fire(e.MOVE,t,!0),s.isTouching&&s.events.fire(e.DRAG,t,!0)}function h(t){s.isTouching&&(s.isTouching=!1,s.move.x=0,s.move.y=0,Math.max(.001,Render.TIME-(u||Render.TIME))>100&&(s.delta.x=0,s.delta.y=0),s.events.fire(e.END,t,!0),a<20&&Render.TIME-o<2e3&&s.events.fire(e.CLICK,t,!0))}!function(){n===Stage?e.bind("touchstart",l):n.bind("touchstart",l);e.bind("touchmove",c),e.bind("touchend",h)}(),this.destroy=function(){return e.unbind("touchstart",l),e.unbind("touchmove",c),e.unbind("touchend",h),n!==Stage&&n.unbind&&n.unbind("touchstart",l),t.events.destroy(),Utils.nullObject(t)}},Mouse=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var e=this;function t(t){e.x=t.x,e.y=t.y,e.normal.x=t.x/Stage.width,e.normal.y=t.y/Stage.height,e.tilt.x=2*e.normal.x-1,e.tilt.y=1-2*e.normal.y,e.inverseNormal.x=e.normal.x,e.inverseNormal.y=1-e.normal.y}this.x=0,this.y=0,this.normal={x:0,y:0},this.tilt={x:0,y:0},this.inverseNormal={x:0,y:0},this.input=new Interaction,Stage.events.add(this.input,Interaction.START,t),Stage.events.add(this.input,Interaction.MOVE,t),t({x:Stage.width/2,y:Stage.height/2})}}]),e}(),Assets=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var e=this;this.CDN="",this.CORS=null;var t={};this.createImage=function(n,i,r){"boolean"!=typeof i&&(r=i,i=void 0);var s=new Image;return s.crossOrigin=e.CORS,s.src=n,s.onload=r,s.onerror=r,i&&(t[n]=s),s},this.getImage=function(e){return t[e]}}},{key:"loadImage",value:function(e){"string"==typeof e&&(e=this.createImage(e));var t=Promise.create();return e.onload=t.resolve,e.onerror=t.resolve,t}}]),e}();Assets.init();var AssetLoader=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));Array.isArray(e)&&(e=e.map(function(e){return Utils.basename(e)}).reduce(function(t,n,i){return t[n]=e[i],t},{}));var r=i;i.events=new Events;var s=Object.keys(e).length,a=0;for(var o in e)u(o,Assets.CDN+e[o]);function u(e,t){var n=Utils.extension(t);if(!n.includes(["jpg","jpeg","png","gif","svg"]))return n.includes(["mp3","m4a","ogg","wav","aif"])?window.AudioContext&&window.WebAudio?void window.WebAudio.createSound(e,t,l):l():void window.get(t).then(function(e){"js"===n&&window.eval(e.replace("use strict","")),l()}).catch(function(){l()});Assets.createImage(t,l)}function l(){r.percent=++a/s,r.events.fire(Events.PROGRESS,{percent:r.percent},!0),a===s&&(r.events.fire(Events.COMPLETE,null,!0),n&&n())}return i}return _inherits(t,Component),_createClass(t,null,[{key:"loadAssets",value:function(e,n){var i=Promise.create();return n||(n=i.resolve),i.loader=new t(e,n),i}}]),t}(),MultiLoader=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;e.events=new Events;var i=[],r=0;function s(){for(var e=0,t=0;t<i.length;t++)e+=i[t].percent||0;e/=i.length,n.events.fire(Events.PROGRESS,{percent:e},!0)}function a(){++r===i.length&&n.events.fire(Events.COMPLETE,null,!0)}return e.push=function(t){i.push(t),e.events.add(t,Events.PROGRESS,s),e.events.add(t,Events.COMPLETE,a)},e.complete=function(){e.events.fire(Events.PROGRESS,{percent:1},!0),e.events.fire(Events.COMPLETE,null,!0)},e}return _inherits(t,Component),t}(),FontLoader=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=i;i.events=new Events;var s,a=void 0;return function(){Array.isArray(e)||(e=[e]);a=Stage.create("FontLoader");for(var t=0;t<e.length;t++)a.create("font").fontStyle(e[t],12,"#000").text("LOAD").css({top:-999})}(),s=function(){a.destroy(),r.percent=1,r.events.fire(Events.PROGRESS,{percent:r.percent},!0),r.events.fire(Events.COMPLETE,null,!0),n&&n()},document.fonts&&document.fonts.ready?document.fonts.ready.then(s):r.delayedCall(s,500),i}return _inherits(t,Component),_createClass(t,null,[{key:"loadFonts",value:function(e,n){var i=Promise.create();return n||(n=i.resolve),i.loader=new t(e,n),i}}]),t}(),StateDispatcher=function e(t){var n=this;_classCallCheck(this,e);var i=this;this.events=new Events,this.locked=!1;var r=void 0,s=void 0,a="/";function o(){return t?location.hash.slice(3):"/"!==a?location.pathname.split(a)[1]:location.pathname.slice(1)||""}function u(e,n){n!==r&&(i.locked?r&&(t?location.hash="!/"+r:history.pushState(s,null,a+r)):(r=n,s=e,i.events.fire(Events.UPDATE,{value:e,path:n},!0)))}t?window.addEventListener("hashchange",function(){return u(null,o())},!0):window.addEventListener("popstate",function(e){return u(e.state,o())},!0),r=o(),this.getState=function(){var e=o();return{value:s,path:e}},this.setState=function(e,n){"object"!==(void 0===e?"undefined":_typeof(e))&&(n=e,e=null),n!==r&&(r=n,s=e,t?location.hash="!/"+n:history.pushState(e,null,a+n))},this.replaceState=function(e,n){"object"!==(void 0===e?"undefined":_typeof(e))&&(n=e,e=null),n!==r&&(r=n,s=e,t?history.replaceState(null,null,"#!/"+n):history.replaceState(e,null,a+n))},this.setTitle=function(e){return document.title=e},this.lock=function(){return n.locked=!0},this.unlock=function(){return n.locked=!1},this.forceHash=function(){return t=!0},this.setPathRoot=function(e){a="/"===e.charAt(0)?e:"/"+e}};window.AudioContext||(window.AudioContext=window.webkitAudioContext||window.mozAudioContext||window.oAudioContext);var CanvasValues=function(){function e(t){_classCallCheck(this,e),this.styles={},t?this.styled=!1:this.data=new Float32Array(6)}return _createClass(e,[{key:"setTRSA",value:function(e,t,n,i,r,s){var a=this.data;a[0]=e,a[1]=t,a[2]=n,a[3]=i,a[4]=r,a[5]=s}},{key:"calculate",value:function(e){var t=e.data,n=this.data;n[0]=n[0]+t[0],n[1]=n[1]+t[1],n[2]=n[2]+t[2],n[3]=n[3]*t[3],n[4]=n[4]*t[4],n[5]=n[5]*t[5]}},{key:"calculateStyle",value:function(e){if(!e.styled)return!1;this.styled=!0;var t=e.values;for(var n in t)this.styles[n]||(this.styles[n]=t[n])}},{key:"shadowOffsetX",set:function(e){this.styled=!0,this.styles.shadowOffsetX=e},get:function(){return this.styles.shadowOffsetX}},{key:"shadowOffsetY",set:function(e){this.styled=!0,this.styles.shadowOffsetY=e},get:function(){return this.styles.shadowOffsetY}},{key:"shadowBlur",set:function(e){this.styled=!0,this.styles.shadowBlur=e},get:function(){return this.styles.shadowBlur}},{key:"shadowColor",set:function(e){this.styled=!0,this.styles.shadowColor=e},get:function(){return this.styles.shadowColor}},{key:"values",get:function(){return this.styles}}]),e}(),CanvasObject=function(){function e(){_classCallCheck(this,e),this.visible=!0,this.blendMode="source-over",this.x=0,this.y=0,this.px=0,this.py=0,this.clipX=0,this.clipY=0,this.clipWidth=0,this.clipHeight=0,this.width=0,this.height=0,this.rotation=0,this.scale=1,this.opacity=1,this.values=new CanvasValues,this.styles=new CanvasValues(!0),this.children=[]}return _createClass(e,[{key:"updateValues",value:function(){this.values.setTRSA(this.x,this.y,Math.radians(this.rotation),this.scaleX||this.scale,this.scaleY||this.scale,this.opacity),this.parent.values&&this.values.calculate(this.parent.values),this.parent.styles&&this.styles.calculateStyle(this.parent.styles)}},{key:"render",value:function(e){if(!this.visible)return!1;this.updateValues(),this.draw&&this.draw(e);for(var t=0;t<this.children.length;t++)this.children[t].render(e)}},{key:"startDraw",value:function(e,t,n){var i=this.canvas.context,r=this.values.data,s=r[0]+(e||0),a=r[1]+(t||0);if(i.save(),n||(i.globalCompositeOperation=this.blendMode),i.translate(s,a),i.rotate(r[2]),i.scale(r[3],r[4]),i.globalAlpha=r[5],this.styles.styled){var o=this.styles.values;for(var u in o)i[u]=o[u]}}},{key:"endDraw",value:function(){this.canvas.context.restore()}},{key:"add",value:function(e){e.setCanvas(this.canvas),e.parent=this,this.children.push(e),e.z=this.children.length}},{key:"setCanvas",value:function(e){this.canvas=e;for(var t=0;t<this.children.length;t++)this.children[t].setCanvas(e)}},{key:"remove",value:function(e){e.canvas=null,e.parent=null,this.children.remove(e)}},{key:"isMask",value:function(){for(var e=this;e;){if(e.masked)return!0;e=e.parent}return!1}},{key:"unmask",value:function(){this.masked.mask(null),this.masked=null}},{key:"setZ",value:function(e){this.z=e,this.parent.children.sort(function(e,t){return e.z-t.z})}},{key:"follow",value:function(e){return this.x=e.x,this.y=e.y,this.px=e.px,this.py=e.py,this.clipX=e.clipX,this.clipY=e.clipY,this.clipWidth=e.clipWidth,this.clipHeight=e.clipHeight,this.width=e.width,this.height=e.height,this.rotation=e.rotation,this.scale=e.scale,this.scaleX=e.scaleX||e.scale,this.scaleY=e.scaleY||e.scale,this}},{key:"visible",value:function(){return this.visible=!0,this}},{key:"invisible",value:function(){return this.visible=!1,this}},{key:"transform",value:function(e){for(var t in e)"number"==typeof e[t]&&(this[t]=e[t]);return this}},{key:"transformPoint",value:function(e,t){return this.px="number"==typeof e?e:this.width*(parseFloat(e)/100),this.py="number"==typeof t?t:this.height*(parseFloat(t)/100),this}},{key:"clip",value:function(e,t,n,i){return this.clipX=e,this.clipY=t,this.clipWidth=n,this.clipHeight=i,this}},{key:"destroy",value:function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].destroy();return Utils.nullObject(this)}}]),e}(),CanvasGraphics=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=i;i.width=e,i.height=n,i.props={};var s=[],a=void 0;return i.draw=function(e){if(i.isMask()&&!e)return!1;var t=i.canvas.context;i.startDraw(i.px,i.py,e),function(e){for(var t in r.props)e[t]=r.props[t]}(t),i.clipWidth&&i.clipHeight&&(t.beginPath(),t.rect(i.clipX,i.clipY,i.clipWidth,i.clipHeight),t.clip());for(var n=0;n<s.length;n++){var o=s[n];if(o){var u=o.shift();t[u].apply(t,o),o.unshift(u)}}i.endDraw(),a&&(t.globalCompositeOperation=a.blendMode,a.render(!0))},i.clear=function(){for(var e=s.length-1;e>=0;e--)s[e].length=0;s.length=0},i.arc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.radius||i.width/2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e&&!t&&(n=e,e=0,t=0),n-=90,a-=90,s.push(["beginPath"]),s.push(["arc",e,t,r,Math.radians(a),Math.radians(n),o])},i.quadraticCurveTo=function(e,t,n,i){s.push(["quadraticCurveTo",e,t,n,i])},i.bezierCurveTo=function(e,t,n,i,r,a){s.push(["bezierCurveTo",e,t,n,i,r,a])},i.fillRect=function(e,t,n,i){s.push(["fillRect",e,t,n,i])},i.clearRect=function(e,t,n,i){s.push(["clearRect",e,t,n,i])},i.strokeRect=function(e,t,n,i){s.push(["strokeRect",e,t,n,i])},i.moveTo=function(e,t){s.push(["moveTo",e,t])},i.lineTo=function(e,t){s.push(["lineTo",e,t])},i.stroke=function(){s.push(["stroke"])},i.fill=function(){a||s.push(["fill"])},i.beginPath=function(){s.push(["beginPath"])},i.closePath=function(){s.push(["closePath"])},i.fillText=function(e,t,n){s.push(["fillText",e,t,n])},i.strokeText=function(e,t,n){s.push(["strokeText",e,t,n])},i.setLineDash=function(e){s.push(["setLineDash",e])},i.drawImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.width,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.height,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:e.width,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:e.height;s.push(["drawImage",e,t,n,r,a,o+-i.px,u+-i.py,l,c])},i.mask=function(e){if(!e)return a=null;a=e,e.masked=i;for(var t=0;t<s.length;t++)"fill"!==s[t][0]&&"stroke"!==s[t][0]||(s[t].length=0,s.splice(t,1))},i.clone=function(){var e=new t(i.width,i.height);return e.visible=i.visible,e.blendMode=i.blendMode,e.opacity=i.opacity,e.follow(i),e.props=Utils.cloneObject(i.props),e.setDraw(Utils.cloneArray(s)),e},i.setDraw=function(e){s=e},i}return _inherits(t,CanvasObject),_createClass(t,[{key:"strokeStyle",set:function(e){this.props.strokeStyle=e},get:function(){return this.props.strokeStyle}},{key:"fillStyle",set:function(e){this.props.fillStyle=e},get:function(){return this.props.fillStyle}},{key:"lineWidth",set:function(e){this.props.lineWidth=e},get:function(){return this.props.lineWidth}},{key:"lineCap",set:function(e){this.props.lineCap=e},get:function(){return this.props.lineCap}},{key:"lineDashOffset",set:function(e){this.props.lineDashOffset=e},get:function(){return this.props.lineDashOffset}},{key:"lineJoin",set:function(e){this.props.lineJoin=e},get:function(){return this.props.lineJoin}},{key:"miterLimit",set:function(e){this.props.miterLimit=e},get:function(){return this.props.miterLimit}},{key:"font",set:function(e){this.props.font=e},get:function(){return this.props.font}},{key:"textAlign",set:function(e){this.props.textAlign=e},get:function(){return this.props.textAlign}},{key:"textBaseline",set:function(e){this.props.textBaseline=e},get:function(){return this.props.textBaseline}}]),t}(),Canvas=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this,r=arguments[2],s=arguments[3];_classCallCheck(this,e);var a=this;function o(e,t,n){var i=n?2:1;if(a.element.width=e*i,a.element.height=t*i,a.width=e,a.height=t,a.scale=i,a.object.size(a.width,a.height),a.context.scale(i,i),a.element.style.width=e+"px",a.element.style.height=t+"px",s){var r=new CanvasGraphics(a.width,a.height);r.fillStyle="rgba(255, 255, 255, 0.002)",r.fillRect(0,0,a.width,a.height),r.setCanvas(a),r.parent=a,a.children[0]=r,r.z=1}}this.element=document.createElement("canvas"),this.context=this.element.getContext("2d"),this.object=new Interface(this.element),this.children=[],this.retina=r,o(t,n,r),this.size=o,this.toDataURL=function(e,t){return i.element.toDataURL(e,t)},this.render=function(e){"boolean"==typeof e&&e||i.clear();for(var t=0;t<i.children.length;t++)i.children[t].render()},this.clear=function(){i.context.clearRect(0,0,i.element.width,i.element.height)},this.add=function(e){e.setCanvas(i),e.parent=i,i.children.push(e),e.z=i.children.length},this.remove=function(e){e.canvas=null,e.parent=null,i.children.remove(e)},this.destroy=function(){for(var e=i.children.length-1;e>=0;e--)i.children[e].destroy();return i.object.destroy(),Utils.nullObject(i)},this.getImageData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.element.width,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.element.height;return i.imageData=i.context.getImageData(e,t,n,r),i.imageData},this.getPixel=function(e,t,n){i.imageData&&!n||i.getImageData();var r={},s=4*(e+t*i.element.width),a=i.imageData.data;return r.r=a[s],r.g=a[s+1],r.b=a[s+2],r.a=a[s+3],r},this.putImageData=function(e){i.context.putImageData(e,0,0)}},CanvasFont=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"createText",value:function(e,t,n,i,r,s,a){var o=a.textBaseline,u=void 0===o?"alphabetic":o,l=a.lineHeight,c=void 0===l?n:l,h=a.letterSpacing,v=void 0===h?0:h,d=a.textAlign,f=void 0===d?"start":d,p=e.context;if(n===c)return S(e,t,n,i,r,s,u,v,f);var m=new CanvasGraphics(t,n),y=i.split(" "),g=[],b="";m.totalWidth=0,m.totalHeight=0,p.font=r;for(var w=0;w<y.length;w++){for(var k=b+y[w]+" ",x=k.split(""),E=0,C=0;C<x.length;C++)E+=p.measureText(x[C]).width+v;E>t&&w>0?(g.push(b),b=y[w]+" "):b=k}return g.push(b),g.forEach(function(n,i){var a=S(e,t,c,n.slice(0,-1),r,s,u,v,f);a.y=i*c,m.add(a),m.totalWidth=Math.max(a.totalWidth,m.totalWidth),m.totalHeight+=c}),m;function S(e,t,n,i,r,s,a,o,u){var l=e.context,c=new CanvasGraphics(t,n);c.font=r,c.fillStyle=s,c.textBaseline=a,c.totalWidth=0,c.totalHeight=n;var h=i.split(""),v=void 0,d=0,f=0;l.font=r;for(var p=0;p<h.length;p++)c.totalWidth+=l.measureText(h[p]).width+o;switch(u){case"start":case"left":f=0;break;case"end":case"right":f=t-c.totalWidth;break;case"center":f=(t-c.totalWidth)/2}do{v=h[d++],c.fillText(v,f,0),f+=l.measureText(v).width+o}while(d<i.length);return c}}}]),e}(),Slide=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=n;n.x=0,n.y=0,n.max={x:0,y:0},n.delta={x:0,y:0},n.direction={x:0,y:0},n.position=0,n.progress=0,n.floor=0,n.ceil=0,n.index=0,n.enabled=!0;var r={x:0,y:0},s={x:0,y:0},a={},o=["x","y"],u=void 0;function l(){i.isInertia=!1,TweenManager.clearTween(r)}function c(e){i.enabled&&(e.preventDefault&&e.preventDefault(),l(),o.forEach(function(t){i.max[t]&&(r[t]+=e["delta"+t.toUpperCase()])}))}function h(){i.enabled&&l()}function v(){i.enabled&&o.forEach(function(e){i.max[e]&&(r[e]+=4*-Mouse.input.delta[e],s[e]=4*-Mouse.input.delta[e],i.isInertia=!0)})}function d(e){i.enabled&&(40===e.keyCode&&i.next(),39===e.keyCode&&i.next(),38===e.keyCode&&i.prev(),37===e.keyCode&&i.prev())}function f(){i.enabled&&l()}return function(){i.num=e.num||0,e.max&&(i.max=e.max);e.index&&(i.index=e.index,i.x=r.x=i.index*i.max.x,i.y=r.y=i.index*i.max.y);e.axes&&(o=e.axes)}(),Stage.bind("wheel",c),i.events.add(Mouse.input,Interaction.START,h),i.events.add(Mouse.input,Interaction.DRAG,v),i.events.add(Events.KEYBOARD_DOWN,d),i.events.add(Events.RESIZE,f),f(),n.startRender(function(){o.forEach(function(e){if(i.max[e]){var t=i[e]/i.max[e],n=Math.round(t);if(r[e]!==n*i.max[e]){0!==s[e]&&(s[e]*=.9,Math.abs(s[e])<.001&&(s[e]=0),r[e]+=s[e]);var a=.035*i.max[e];r[e]+=Interpolation.Sine.Out(Math.round(i.progress)-i.progress)*a,Math.abs(r[e]-i[e])>a?r[e]-=.5*(r[e]-i[e]):Math.abs(r[e]-i[e])<.001&&(r[e]=n*i.max[e]),i.delta[e]=r[e]-i[e],i.delta[e]=i.delta[e]<0?Math.max(i.delta[e],-a):Math.min(i.delta[e],a),i[e]+=i.delta[e]}}}),i.position=(i.x+i.y)/(i.max.x+i.max.y)%i.num+i.num,i.progress=i.position%1,i.floor=Math.floor(i.position)%i.num,i.ceil=Math.ceil(i.position)%i.num,i.index=Math.round(i.position)%i.num,u!==i.index&&(u=i.index,i.direction.x=i.delta.x<0?-1:1,i.direction.y=i.delta.y<0?-1:1,a.index=i.index,a.direction=i.direction,i.events.fire(Events.UPDATE,a,!0))}),n.goto=function(e){var t={};t.x=e*n.max.x,t.y=e*n.max.y,TweenManager.tween(r,t,2500,"easeOutQuint")},n.next=function(){var e=(n.x+n.y)/(n.max.x+n.max.y),t=Math.round(e);n.goto(t+1)},n.prev=function(){var e=(n.x+n.y)/(n.max.x+n.max.y),t=Math.round(e);n.goto(t-1)},n.destroy=function(){return Stage.unbind("wheel",c),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",n).call(n)},n}return _inherits(t,Component),t}(),SlideVideo=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));t.initialized||(t.test=t.test||!Device.mobile&&"safari"!==Device.browser&&!Device.detect("trident"),t.initialized=!0);var r=i;if(i.events=new Events,i.img=e.img,i.img&&(i.img=Assets.CDN+i.img),i.src=e.src,i.src&&(i.src=Assets.CDN+i.src),i.src&&t.test)window.fetch(i.src).then(function(e){if(!e.ok)return a();e.blob().then(function(e){i.element=document.createElement("video"),i.element.src=URL.createObjectURL(e),i.element.muted=!0,i.element.loop=!0,r.element.addEventListener("playing",o,!0),r.element.addEventListener("pause",u,!0),r.willPlay&&r.play(),n&&n()})}).catch(function(){a(),n&&n()});else{var s=Assets.createImage(i.img);s.onload=function(){i.element=s,n&&n()},s.onerror=a}function a(){r.events.fire(Events.ERROR,null,!0)}function o(){r.playing=!0,r.events.fire(Events.READY,null,!0)}function u(){r.playing=!1}return i.resume=function(){i.play(!0)},i.play=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.willPlay=!0,i.element&&i.element.paused&&!i.playing&&(e||(i.element.currentTime=0),i.element.play())},i.pause=function(){i.willPlay=!1,i.element&&!i.element.paused&&i.playing&&i.element.pause()},i.ready=function(){return i.element.readyState>i.element.HAVE_CURRENT_DATA},i.destroy=function(){return i.pause(),i.element.src="",_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",i).call(i)},i}return _inherits(t,Component),t}(),SlideLoader=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=i;i.events=new Events,i.list=[],i.pathList=[];var s=0;function a(){r.percent=++s/r.list.length,r.events.fire(Events.PROGRESS,{percent:r.percent},!0),s===r.list.length&&(r.events.fire(Events.COMPLETE,null,!0),n&&n())}return e.forEach(function(e){i.list.push(i.initClass(SlideVideo,e,a)),i.pathList.push(e.path)}),i}return _inherits(t,Component),_createClass(t,null,[{key:"loadSlides",value:function(e,n){var i=Promise.create();return n||(n=i.resolve),i.loader=new t(e,n),i}}]),t}(),Shader=function(e){function t(e,n,i){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=r;function a(e,t){return(e=("vs"===t?["precision highp float;","precision highp int;","attribute vec2 uv;","attribute vec3 position;","attribute vec3 normal;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 modelMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;"].join("\n"):[~e.indexOf("dFdx")?"#extension GL_OES_standard_derivatives : enable":"","precision highp float;","precision highp int;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 modelMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;"].join("\n"))+"\n\n"+e).replace(/#s?chunk\(\s?(\w+)\s?\);/g,function(e,t){return THREE.ShaderChunk[t]+"\n"})}return r.uniforms={},r.properties={},function(){for(var e in i)void 0!==i[e].value?s.uniforms[e]=i[e]:s.properties[e]=i[e]}(),function(){var t={};for(var i in t.vertexShader=a(e,"vs"),t.fragmentShader=a(n,"fs"),t.uniforms=s.uniforms,s.properties)t[i]=s.properties[i];s.material=new THREE.RawShaderMaterial(t),s.material.shader=s,s.uniforms=s.material.uniforms}(),r}return _inherits(t,Component),_createClass(t,[{key:"set",value:function(e,t){TweenManager.clearTween(this.uniforms[e]),this.uniforms[e].value=t}},{key:"tween",value:function(e,t,n,i,r,s,a){return TweenManager.tween(this.uniforms[e],{value:t},n,i,r,s,a)}},{key:"getValues",value:function(){var e={};for(var t in this.uniforms)e[t]=this.uniforms[t].value;return e}},{key:"copyUniformsTo",value:function(e){for(var t in this.uniforms)e.uniforms[t]=this.uniforms[t]}},{key:"cloneUniformsTo",value:function(e){for(var t in this.uniforms)e.uniforms[t]={type:this.uniforms[t].type,value:this.uniforms[t].value}}},{key:"destroy",value:function(){return this.material.dispose(),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(),vertRipple="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragRipple="#define GLSLIFY 1\n// Based on https://gl-transitions.com/editor/ripple by gre\n\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D texture;\nuniform float opacity;\nuniform float progress;\nuniform vec2 direction;\n\nvarying vec2 vUv;\n\nconst float amplitude = 100.0;\nconst float speed = 10.0;\nconst vec2 center = vec2(0.5, 0.5);\n\nvoid main() {\n    vec2 v = normalize(direction);\n    v /= abs(v.x) + abs(v.y);\n    float d = v.x * center.x * vUv.x + v.y * center.y * vUv.y;\n    vec2 dir = vUv / 2.0;\n    vec2 offset = dir * (sin((1.0 - progress) * d * amplitude - (1.0 - progress) * speed) + 0.5) / 30.0;\n    vec4 rgba = texture2D(texture, vUv + offset);\n    rgba.a *= opacity;\n    gl_FragColor = rgba;\n}\n",vertDirectionalWarp="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragDirectionalWarp="#define GLSLIFY 1\n// Based on https://gl-transitions.com/editor/directionalwarp by pschroen\n\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform float opacity;\nuniform float progress;\nuniform vec2 direction;\n\nvarying vec2 vUv;\n\nconst float smoothness = 0.5;\nconst vec2 center = vec2(0.5, 0.5);\n\nvoid main() {\n    vec2 v = normalize(direction);\n    v /= abs(v.x) + abs(v.y);\n    float d = v.x * center.x + v.y * center.y;\n    float m = 1.0 - smoothstep(-smoothness, 0.0, v.x * vUv.x + v.y * vUv.y - (d - 0.5 + progress * (1.0 + smoothness)));\n    vec4 rgba = mix(texture2D(texture1, (vUv - 0.5) * (1.0 - m) + 0.5), texture2D(texture2, (vUv - 0.5) * m + 0.5), m);\n    //rgba.rgb *= 0.65;\n    rgba.a *= opacity;\n    gl_FragColor = rgba;\n}\n";Config.UI_COLOR="white",Config.ASSETS=["assets/js/lib/three.min.js"];var Work=function e(t){_classCallCheck(this,e),this.slug=t.slug,this.path="work/"+this.slug+"/",this.title=t.title,this.pageTitle=this.title+" / Alien.js Example Project",this.description=t.description,this.src="assets/video/"+this.slug+".mp4",this.img="assets/images/shot/"+this.slug+".jpg"};Config.LIST=[new Work({slug:"galaxy",title:"Video 1",description:"Directional Warp 2"}),new Work({slug:"particles",title:"Video 2",description:"Directional Warp 2"})],Global.SLIDE_INDEX=0,Events.START="start",Events.SLIDE_CHANGE="slide_change",Assets.CORS="Anonymous";var Data=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){var e=this;function t(t){""!==t.path&&e.setSlide(t)}this.dispatcher=new StateDispatcher(!0),Stage.events.add(e.dispatcher,Events.UPDATE,t),this.setSlide=function(e){Stage.events.fire(Events.SLIDE_CHANGE,e.value?e.value.position:Stage.pathList.indexOf(e.path)||0)}}}]),e}(),TitleTexture=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;return Config.LIST.forEach(function(e){var t=n.initClass(Canvas,Stage.width,Stage.height,!0,!0);e.graphics={},e.graphics.canvas=t}),e.update=function(){Config.LIST.forEach(function(e){var t=e.graphics.canvas,n=e.graphics.text,i=e.graphics.text2;t.size(Stage.width,Stage.height,!0),n&&(t.remove(n),n=i=n.destroy()),n=CanvasFont.createText(t,Stage.width,Stage.height,e.title.toUpperCase(),"200 66px Oswald",Config.UI_COLOR,{lineHeight:80,letterSpacing:0,textAlign:"center"}),(i=CanvasFont.createText(t,Stage.width,Stage.height,e.description.toUpperCase(),"400 14px Karla",Config.UI_COLOR,{lineHeight:16,letterSpacing:2.4,textAlign:"center"})).y=18+i.totalHeight,n.add(i);var r=(Stage.height-(n.totalHeight+18+i.totalHeight)+124)/2;n.y=r,t.add(n),t.render(),e.graphics.text=n,e.graphics.text2=i})},e}return _inherits(t,Component),t}(),Title=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;e.object3D=new THREE.Object3D;var i=void 0,r=void 0,s=void 0,a=void 0;return World.scene.add(e.object3D),i=n.initClass(TitleTexture),r=new THREE.Texture(null,null,THREE.ClampToEdgeWrapping,THREE.ClampToEdgeWrapping,THREE.LinearFilter,THREE.LinearFilter),s=n.initClass(Shader,vertRipple,fragRipple,{time:World.time,resolution:World.resolution,texture:{value:r},opacity:{value:0},progress:{value:0},direction:{value:new THREE.Vector2(1,-1)},transparent:!0,depthWrite:!1,depthTest:!1}),a=new THREE.Mesh(new THREE.PlaneBufferGeometry(1,1),s.material),n.object3D.add(a),e.resize=function(){i.update(),a.scale.set(Stage.width,Stage.height,1)},e.update=function(){var e=Config.LIST[Global.SLIDE_INDEX];r.image=e.graphics.canvas.element,r.needsUpdate=!0},e.animateIn=function(t){s.uniforms.opacity.value=0,s.uniforms.progress.value=0,s.uniforms.direction.value=e.direction<0?new THREE.Vector2(-1,1):new THREE.Vector2(1,-1),TweenManager.tween(s.uniforms.opacity,{value:1},250,"linear"),TweenManager.tween(s.uniforms.progress,{value:1},1600,"easeOutCubic",t)},e.animateOut=function(t){s.uniforms.opacity.value=1,s.uniforms.progress.value=1,s.uniforms.direction.value=e.direction<0?new THREE.Vector2(-1,1):new THREE.Vector2(1,-1),TweenManager.tween(s.uniforms.opacity,{value:0},250,"linear"),TweenManager.tween(s.uniforms.progress,{value:0},1200,"easeOutCubic",t)},e}return _inherits(t,Component),t}(),Space=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e;e.object3D=new THREE.Object3D;var i=1920/1080,r=void 0,s=void 0,a=void 0,o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,v=void 0,d=void 0,f=void 0,p=void 0;function m(e){Global.SLIDE_INDEX=e.index;var t=Config.LIST[Global.SLIDE_INDEX];if(n.loaded){p.direction=e.direction.y,p.update(),p.animateIn();var i=u.y/u.max.y,r=Math.round(i);Data.dispatcher.setState({position:r},t.path)}else{p.direction=1,p.update();var s=Data.dispatcher.getState();~Stage.pathList.indexOf(s.path)||Data.dispatcher.replaceState(t.path)}Data.dispatcher.setTitle(t.pageTitle)}function y(e){u.goto(e)}function g(){Stage.width/Stage.height>i?o.scale.set(Stage.width,Stage.width/i,1):o.scale.set(Stage.height*i,Stage.height,1),u.max.y=Stage.height,p.resize(),p.update()}function b(){d=!0,k()}function w(){f=!0}function k(){n.loaded||(n.loaded=!0,n.events.fire(Events.START))}return World.scene.add(e.object3D),r=new THREE.Texture(null,null,THREE.ClampToEdgeWrapping,THREE.ClampToEdgeWrapping,THREE.LinearFilter,THREE.LinearFilter),s=new THREE.Texture(null,null,THREE.ClampToEdgeWrapping,THREE.ClampToEdgeWrapping,THREE.LinearFilter,THREE.LinearFilter),a=n.initClass(Shader,vertDirectionalWarp,fragDirectionalWarp,{time:World.time,resolution:World.resolution,texture1:{value:r},texture2:{value:s},opacity:{value:0},progress:{value:0},direction:{value:new THREE.Vector2(-1,1)},transparent:!0,depthWrite:!1,depthTest:!1}),o=new THREE.Mesh(new THREE.PlaneBufferGeometry(1,1),a.material),n.object3D.add(o),p=n.initClass(Title),function(){var e=Data.dispatcher.getState(),t=Stage.pathList.indexOf(e.path);~t&&(Global.SLIDE_INDEX=t);u=n.initClass(Slide,{num:Stage.list.length,max:{x:0,y:Stage.height},index:Global.SLIDE_INDEX,axes:["y"]}),n.events.add(u,Events.UPDATE,m),n.events.add(Events.SLIDE_CHANGE,y),n.events.add(Events.RESIZE,g),g()}(),e.startRender(function(){l===u.floor&&c===u.ceil||(l=u.floor,c=u.ceil,function(){h=Stage.list[l],v=Stage.list[c],SlideVideo.test&&(e=l,t=c,Stage.list.forEach(function(i,r){r!==e&&r!==t&&(n.events.remove(i,Events.READY,b),n.events.remove(i,Events.READY,w),i.pause())}),d=!1,f=!1);var e,t;r.image=h.element,SlideVideo.test?h.playing?b():(n.events.add(h,Events.READY,b),h.resume()):(r.needsUpdate=!0,k()),s.image=v.element,SlideVideo.test?v.playing?w():(n.events.add(v,Events.READY,w),v.resume()):s.needsUpdate=!0}());d&&h.ready()&&(r.needsUpdate=!0);f&&v.ready()&&(s.needsUpdate=!0);a.uniforms.progress.value=u.progress}),e.animateIn=function(){a.uniforms.opacity.value=0,TweenManager.tween(a.uniforms.opacity,{value:1},1e3,"easeOutCubic"),p.animateIn()},e}return _inherits(t,Component),t}(),World=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0,i=void 0,r=void 0;function s(){n.setSize(Stage.width,Stage.height),r.aspect=Stage.width/Stage.height,r.position.z=1/Math.tan(Math.radians(30))*.5*Stage.height,r.updateProjectionMatrix(),t.resolution.value.set(Stage.width*t.dpr,Stage.height*t.dpr)}return t.dpr=Math.min(2,Device.pixelRatio),(n=new THREE.WebGLRenderer({powerPreference:"high-performance"})).setPixelRatio(t.dpr),i=new THREE.Scene,r=new THREE.PerspectiveCamera(60,Stage.width/Stage.height,1,1e4),t.scene=i,t.renderer=n,t.element=n.domElement,t.camera=r,t.time={value:0},t.resolution={value:new THREE.Vector2(Stage.width*t.dpr,Stage.height*t.dpr)},Stage.events.add(Events.RESIZE,s),s(),e.startRender(function(e,s){t.time.value+=.001*s,n.render(i,r)}),Stage.add(t.element),e}return _inherits(t,Component),_createClass(t,null,[{key:"instance",value:function(){return this.singleton||(this.singleton=new t),this.singleton}}]),t}(),Progress=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Progress")),n=e,i=90,r=void 0,s=void 0;function a(){n.progress>=1&&!n.complete&&(n.complete=!0,n.events.fire(Events.COMPLETE),n.stopRender(a)),s.clearRect(0,0,i,i);var e=n.progress||0,t=i/2,r=i/2,o=.4*i,u=Math.radians(-90),l=Math.radians(-90)+Math.radians(360*e);s.beginPath(),s.arc(t,r,o,u,l,!1),s.strokeStyle=Config.UI_COLOR,s.stroke()}return n.size(i),n.progress=0,r=n.initClass(Canvas,i,i,!0),(s=r.context).lineWidth=5,e.startRender(a),e.update=function(t){e.complete||TweenManager.tween(e,{progress:t.percent},500,"easeOutCubic")},e.animateOut=function(t){e.tween({scale:.9,opacity:0},400,"easeInCubic",t)},e}return _inherits(t,Interface),t}(),Loader=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Loader")),n=e,i=void 0,r=void 0,s=void 0;function a(e){s.update(e)}function o(){n.events.fire(Events.COMPLETE)}return n.size("100%"),i=n.initClass(SlideLoader,Config.LIST),(r=n.initClass(MultiLoader)).push(n.initClass(FontLoader,["Oswald","Karla"])),r.push(n.initClass(AssetLoader,Config.ASSETS)),r.push(i),n.events.add(r,Events.PROGRESS,a),Stage.list=i.list,Stage.pathList=i.pathList,(s=n.initClass(Progress)).center(),n.events.add(s,Events.COMPLETE,o),e.animateOut=function(e){s.animateOut(e)},e}return _inherits(t,Interface),t}(),Main=function e(){_classCallCheck(this,e);var t=void 0,n=void 0;function i(){t.animateOut(function(){t=t.destroy(),Stage.events.fire(Events.COMPLETE)})}function r(){World.instance(),n=Stage.initClass(Space)}function s(){n.animateIn()}Data.init(),Stage.size("100%"),Mouse.init(),t=Stage.initClass(Loader),Stage.events.add(t,Events.COMPLETE,i),Stage.events.add(Events.COMPLETE,r),Stage.events.add(Events.START,s)};new Main;
